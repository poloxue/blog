<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>git on POLOXUE's BLOG</title><link>https://www.poloxue.com/tags/git/</link><description>Recent content in git on POLOXUE's BLOG</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>Polo Xue All rights reserved</copyright><lastBuildDate>Mon, 18 Mar 2019 10:36:55 +0800</lastBuildDate><atom:link href="https://www.poloxue.com/tags/git/index.xml" rel="self" type="application/rss+xml"/><item><title>谈谈版本管理 GIT 的理论与架构</title><link>https://www.poloxue.com/posts/2019-03-18-git-architecture/</link><pubDate>Mon, 18 Mar 2019 10:36:55 +0800</pubDate><guid>https://www.poloxue.com/posts/2019-03-18-git-architecture/</guid><description>GIT 是当前最流行的版本控制系统。之前在公司系统做过一次系统总结，抽时间整理成文。
基础概念 GIT是一种版本控制软件，那就首先了解一下什么是 “版本控制”？
比较官方的解释是，版本控制系统是一种记录一个或若干个内容变化，以便将来查询特定版本修订情况的系统。
简言之，你的修改只要提到到版本控制系统，基本都可以找回，版本控制系统就像一台时光机器，可以让你回到任何一个时间点。
了解了版本控制系统的功能，我们知道就算你把代码改的一塌糊涂，照样可以恢复到我们过去的任何一个时间点，工作量却微乎其微。是不是很amazing。
总结一下版本控制系统有哪些优点：
记录文件所有历史变化。这是版本控制系统的基本能力； 随时恢复到任意时间点。历史记录功能使我们不怕改错代码了； 支持多功能并行开发。通常版本控制系统都支持分支，保证了并行开发的可行； 多人协作并行开发。对于多人协作项目，支持多人协作开发的版本管理将事半功倍； 除了上面介绍的几个比较常见的优点，版本控制系统的好处还有很多，就不一一列举了，可通过实践自己逐渐体悟总结。下面基于GIT做更多介绍。
常见类别 版本控制系统常见类别有三种：
本地版本控制系统、 集中式版本控制系统、 分布式版本控制系统； 本地版本控制系统 代表有 RCS(Revision Control System)，Linux下面的可用来作为配置文件管理的版本控制工具，工作使用不多；
关于其优缺点，简述如下：
优点：
简单，很多系统中都有内置； 适合管理文本，如系统配置； 缺点：
管理少量文件，不支持项目的管理； 支持的文件类型单一； 不支持远程，网络传输； 集中式版本控制系统 代表如CVS，SVN(Subversion)，SVN是曾经最流行的版本管理系统，很多人都有用过，因而对于集中式版本控制系统很多人都很了解它。
优点 适合多人团队协作开发； 代码集中化管理； 缺点 单点故障； 必须联网，无法单机工作； 优点就不多说了，大家可能对缺点更是记忆深刻。
单点故障，集中式管理的缺点，代码集中一台机器上，这个问题其实可通过备份集群解决； 必须联网工作，这个缺点深恶痛觉，一旦公司网络出现问题，几个小时甚至一天无法工作； 由于这些缺点，便有了分布版本控制系统。
分布式版本控制系统 代表就是今天要说的GIT了。想知道GIT有多流行吗？看看GITHUB就知道了，现在很多公司都已经把自己的代码库迁移到了GIT。可见GIT在如今的流行程度，也说明分布式版本控制系统是如今的趋势。如下基本架构图：
关于分布式版本控制系统，这里只说优点：
适合多人团队协作开发； 代码集中化管理； 可以离线工作； 每个计算机都是一个完整仓库； 前面两点SVN也可以做到，说一下后两点。
可以离线工作，分布式版本管理系统每个计算机都有一个完整的仓库，可本地提交，可以做到离线工作。没有了SVN令人抓狂的断网无法工作问题;
每个计算机都是一个完整的仓库，也就没有了SVN的单点故障。
GIT与SVN的比较 GIT的作者Linus一直比较痛恨集中方式版本控制系统。虽然有很多已知免费的集中式版本控制系统，但是在2002之前提交Linux源码的方式都是通过diff提交给Linus的，然后进行手工合并。下面让我们来以GIT与SVN作为代表，来看看为什么Linus痛恨集中式版本管理系统，而喜欢分布式版本管理系统。下面具体比较一下它们的区别：
GIT是分布式的，SVN为集中式的 常识，两者最重要的区别，也是后面所有区别的基石；
GIT 随处都是版本库，SVN 只有一个中央版本库 因为GIT是分布式的所以能做到到处都是版本库，而SVN是集中式的，所以只有一个中央仓库。因而GIT能够做到无需网络提交，到处到时版本库，压根不用担心提交速度问题，不用时刻依赖与网络工作，不用担心单点故障。当工作完成之后直接推送远程即可实现工作协作；
GIT没有全局版本号，SVN有全局版本号 GIT版本库到处都是，之间没有实时共享数据，所以无法确保版本号的唯一性，无法使用全局版本号，分布在各个机器上的版本库版本号使用40位的HASH值取代。重复的情况是存在的，从数学的角度考虑，可能性是2的63次方分之一，基本可忽略。而对于SVN，唯一版本，所以能够做到使用全局的版本号，版本号采用自增的方式；
GIT把内容按元数据存储，SVN按文件存储 GIT存储的不是实际的文件，而是指向性数据。SVN保存的是文件数据。当GIT切换版本的时候，实际上切换的是元数据，而且本地操作，快捷有效；
GIT记录文件快照，SVN记录文件差异 GIT的元数据，即指向性数据指向的是实际的文件快照，这也是GIT能够快速切换版本的一个原因。SVN保存的文件数据是各个版本之间的文件差异，所以切换版本的时候需要逐级的差异计算，速度比较慢，而且还需网络传输。当工程较大时，速度与GIT相比差异会相当的大。
GIT的内容完整性高，SVN完整性低 因为GIT的数据记录都有HASH值校验，所以内容完整性较高。而SVN则没有此功能，内容完整性低。；</description></item></channel></rss>