<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>终端环境：6 个强大的 zsh 提效插件 - POLOXUE's BLOG</title><meta name=viewport content="width=device-width,initial-scale=1"><meta itemprop=name content="终端环境：6 个强大的 zsh 提效插件"><meta itemprop=description content="今天，将会在上文的基础上，再介绍 6 个插件，其中 4 个是 oh-my-zsh 的内置插件，还有两个第三方插件。"><meta itemprop=datePublished content="2023-10-18T18:36:55+08:00"><meta itemprop=dateModified content="2023-10-18T18:36:55+08:00"><meta itemprop=wordCount content="443"><meta itemprop=keywords content="zsh,"><meta property="og:title" content="终端环境：6 个强大的 zsh 提效插件"><meta property="og:description" content="今天，将会在上文的基础上，再介绍 6 个插件，其中 4 个是 oh-my-zsh 的内置插件，还有两个第三方插件。"><meta property="og:type" content="article"><meta property="og:url" content="https://www.poloxue.com/posts/2023-10-19-zsh-6-powerful-plugins/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-10-18T18:36:55+08:00"><meta property="article:modified_time" content="2023-10-18T18:36:55+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="终端环境：6 个强大的 zsh 提效插件"><meta name=twitter:description content="今天，将会在上文的基础上，再介绍 6 个插件，其中 4 个是 oh-my-zsh 的内置插件，还有两个第三方插件。"><script data-goatcounter=https://poloxue.goatcounter.com/count async src=//gc.zgo.at/count.js></script>
<link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/main.css><link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/extra.css><link id=dark-scheme rel=stylesheet type=text/css href=https://www.poloxue.com/css/dark.css><script src=https://www.poloxue.com/js/feather.min.js></script>
<script src=https://www.poloxue.com/js/main.js></script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7019080091542951" crossorigin=anonymous></script></head><body><div class="container-wide wrapper"><div class=header><div class=avatar><a href=https://www.poloxue.com/><img src=/avatar.png alt="POLOXUE's BLOG"></a></div><h1 class=site-title><a href=https://www.poloxue.com/>POLOXUE's BLOG</a></h1><div class=site-description><nav class="nav social"><ul class=flat><li><a href=https://github.com/poloxue/ title=Github><i data-feather=github></i></a></li><li><a href=/posts/index.xml title=RSS><i data-feather=rss></i></a></li><li><a href=/ title=Wechat><i data-feather=message-circle></i></a></li><span class=scheme-toggle><a href=# id=scheme-toggle></a></ul></nav></div><nav class=nav><ul class=flat><li><a href=/>文章列表</a></li><li><a href=/tags>分类标签</a></li><li><a href=/about/>关于我</a></li></ul></nav></div><div class=article-nav id=article-nav-id><div class=post><div class=post-header><div class=meta><div class=date><span class=day>18</span>
<span class=rest>Oct 2023</span></div></div><div class=matter><h1 class=title>终端环境：6 个强大的 zsh 提效插件</h1></div></div><aside class="show-on-mobile toc" id=static-toc><header><h3>Contents</h3></header><nav id=TableOfContents><ol><li><a href=#快速一览>快速一览</a></li><li><a href=#推荐一个网站>推荐一个网站</a></li><li><a href=#推荐插件>推荐插件</a><ol><li><a href=#copypath>copypath</a></li><li><a href=#copyfile>copyfile</a></li><li><a href=#copybuffer>copybuffer</a></li><li><a href=#sudo>sudo</a></li></ol></li><li><a href=#其他插件>其他插件</a><ol><li><a href=#history-substring-search>history-substring-search</a></li><li><a href=#you-should-use>you-should-use</a></li></ol></li><li><a href=#总结>总结</a></li></ol></nav></aside><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-19-zsh-6-powerful-plugins-08.png alt></p><p>本文是高效终端环境第三篇，介绍 6 个可用于提效 zsh 效率的插件。系列查看：<a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzI0MzE2NTY2MA==&amp;action=getalbum&amp;album_id=3299748150420979713#wechat_redirect">我的终端环境</a></p><p>视频教程：</p><div id=video-322450976RSaiddMI6Ns style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden></div><script>var r=new XMLHttpRequest;r.addEventListener("load",function(){container=document.getElementById("video-322450976RSaiddMI6Ns"),data=JSON.parse(this.responseText),bb_id="322450976",yt_id="RSaiddMI6Ns",data.country_code=="CN"||yt_id==0&&bb_id!=0?container.innerHTML='<iframe src="https://player.bilibili.com/player.html?aid='+bb_id+'&amp;page=1" style="position:absolute;top:0;left:0;width:100%;height:100%;border:0;" allowfullscreen title="Bilibili Video" ></iframe > ':yt_id!=0&&(container.innerHTML='<iframe src="https://www.youtube.com/embed/'+yt_id+'"style="position:absolute;top:0;left:0;width:100%;height:100%; border:0;" title="YouTube video player" frameborder="0" allow="accelerometer;autoplay;clipboard-write;encrypted-media;gyroscope;picture-in-picture;web-share"allowfullscreen></iframe>')}),r.open("GET","https://ipapi.co/json/"),r.send()</script><p>今天，将会在 <a href=https://www.poloxue.com/posts/2023-10-16-zsh-themes-and-plugins/>上文</a> 的基础上，再介绍六个插件，其中 4 个是 oh-my-zsh 的内置插件，还有两个第三方插件。</p><h2 id=快速一览>快速一览</h2><p>本文将会涉及的插件，如下所示：</p><ul><li>copypath，拷贝路径；</li><li>copyfile，拷贝文件内容；</li><li>copybuffer，拷贝命令行内容；</li><li>sudo，快捷 sudo，命令行快捷添加 sudo 插件；</li><li>zsh-history-substring-search，命令历史记录子字符串匹配；</li><li>zsh-you-should-use，用于命令行 alias 别名提醒；</li></ul><p>让我们正式开始。</p><h2 id=推荐一个网站>推荐一个网站</h2><p>在开始前，我想先推荐一个 github 仓库，awesome-zsh-plugins，通过浏览器打开 <a href=https://github.com/unixorn/awesome-zsh-plugins>awesome-zsh-plugins</a>，里面提供了相当丰富的 zsh 的框架、教程、插件与主题等等，是 zsh 的资源合集。</p><p>框架，如 oh-my-zsh，还有其他的一些框架。其中，还有关于 zsh 的教程。</p><p>插件，上个视频介绍过的两个插件，zsh-syntax-highlighting - 命令行语法高亮插件, zsh-autosugggestions - 命令行自动建议提示插件，在这个文档里面都能找到。</p><p>主题，除了 oh-my-zsh 内置主题，还有更多主题可选，如将在后面讲介绍的 powerlevel10k 这个 zsh 主题，在这个文档里也能找到。</p><h2 id=推荐插件>推荐插件</h2><p>先说 oh-my-zsh 的内置插件。</p><p>打开 zsh 配置文件 ~/.zshrc，将要使用的 oh-my-zsh 的内置插件提前配置。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>plugins<span style=color:#f92672>=(</span>... copypath copyfile copybuffer sudo ...<span style=color:#f92672>)</span>
</span></span></code></pre></td></tr></table></div></div><p>保存退出，执行 <code>source ~/.zshrc 生效</code>。</p><h3 id=copypath>copypath</h3><p><a href=https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/copypath>copypath</a> 的用途如其名，就是用来 copy 路径的。</p><p>支持两种用法。</p><p>copypath: 无参数，直接拷贝当前路径；</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-19-zsh-6-powerful-plugins-01.gif alt></p><p>copypath &lt;文件或目录>：拷贝指定文件或目录的绝对路径；</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-19-zsh-6-powerful-plugins-02.gif alt></p><p>相比于 <code>pwd</code> 之后再拷贝，这种方式真的是省心省力的方式。</p><h3 id=copyfile>copyfile</h3><p><a href=https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/copyfile>copyfile</a>，用于拷贝文件内容，命令格式 copyfile &lt;文件路径>。</p><p>假设，现有一个文件 test.txt。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat test.txt
</span></span><span style=display:flex><span>Hello oh my zsh
</span></span></code></pre></td></tr></table></div></div><p>一个测试命令，<code>copyfile test.txt</code>，即可将 <code>test.txt</code> 文件中的内容拷贝到剪贴板中。</p><p>效果如下：</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-19-zsh-6-powerful-plugins-03.gif alt></p><p>无需鼠标选中复制粘贴。</p><h3 id=copybuffer>copybuffer</h3><p><a href=https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/copybuffer>copybuffer</a>，是用于快速复制当前命令行的输入。</p><p>如何使用呢？</p><p>它不同于前面两个快捷键，要通过 CTRL+o 快捷键拷贝命令行内容。</p><p>特别说明，我在测试的时候，发现 copybuffer 与 vi-mode 存在冲突，不过如果启用了 vi-mode， 命令行内容拷贝可直接使用 yy，无续开启 copybuffer；</p><h3 id=sudo>sudo</h3><p>sudo 的主要作用是，当我们输入某个命令，如 vim /etc/zshrc，发现没有系统权限，利用 sudo 插件，可快速将 sudo 作为前缀添加到命令最前面。</p><p>演示效果如下所示：</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-19-zsh-6-powerful-plugins-06.gif alt></p><h2 id=其他插件>其他插件</h2><p>介绍完 oh-my-zsh 的内置插件，继续介绍两个三方插件，分别是 zsh-history-substring-search 和 you-should-use.</p><p>将 zsh-history-substring-search 和 zsh-you-should-use 两个插件下载配置。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone https://github.com/zsh-users/zsh-history-substring-search <span style=color:#e6db74>${</span>ZSH_CUSTOM<span style=color:#66d9ef>:-</span>~/.oh-my-zsh/custom<span style=color:#e6db74>}</span>/plugins/zsh-history-substring-search
</span></span><span style=display:flex><span>git clone https://github.com/MichaelAquilina/zsh-you-should-use.git <span style=color:#e6db74>${</span>ZSH_CUSTOM<span style=color:#66d9ef>:-</span>~/.oh-my-zsh/custom<span style=color:#e6db74>}</span>/plugins/you-should-use
</span></span></code></pre></td></tr></table></div></div><p>打开 <code>~/.zshrc</code> 文件，更新如下内容：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>plugins<span style=color:#f92672>=(</span>... zsh-history-substring-search you-should-use<span style=color:#f92672>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=history-substring-search>history-substring-search</h3><p>先介绍 <a href=https://github.com/zsh-users/zsh-history-substring-search>zsh-history-substring-search</a>。它的主要用途是什么？</p><p>一般情况下，在使用 zsh 时，通过 ↑ 或 ↓ 方向键，能实现类似按前缀匹配补齐的效果。</p><p>而如果输入的是中间的字符串，则没法自动补齐。这个插件真是为这个目的而生的。</p><p>使用这个插件前，除了启用插件以外，还需要进一步配置下，将 zsh-history-substring-search 提供的能力绑定到快捷按键。</p><p>例如，上下方向键 ↑ 和 ↓。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>bindkey <span style=color:#e6db74>&#39;^[[A&#39;</span> history-substring-search-up
</span></span><span style=display:flex><span>bindkey <span style=color:#e6db74>&#39;^[[B&#39;</span> history-substring-search-down
</span></span></code></pre></td></tr></table></div></div><p>在生效配置后，测试失败的话，查看文档，其中有介绍：</p><blockquote><p>However, if the observed values don&rsquo;t work, you can try using terminfo:</p><p>bindkey &ldquo;$terminfo[kcuu1]&rdquo; history-substring-search-up
bindkey &ldquo;$terminfo[kcud1]&rdquo; history-substring-search-down</p></blockquote><p>那我们就增加这两行配置吧。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>bindkey <span style=color:#e6db74>&#34;</span>$terminfo<span style=color:#e6db74>[kcuu1]&#34;</span> history-substring-search-up
</span></span><span style=display:flex><span>bindkey <span style=color:#e6db74>&#34;</span>$terminfo<span style=color:#e6db74>[kcud1]&#34;</span> history-substring-search-down
</span></span></code></pre></td></tr></table></div></div><p>除了 ↑ ↓ 按键外，我一般还习惯使用 CTRL+P/N 上下查找历史记录，配置如下：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>bindkey <span style=color:#e6db74>&#39;^p&#39;</span> history-substring-search-up
</span></span><span style=display:flex><span>bindkey <span style=color:#e6db74>&#39;^n&#39;</span> history-substring-search-down
</span></span></code></pre></td></tr></table></div></div><p>如果希望支持 vi 的 jk，配置如下：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>bindkey -M vicmd <span style=color:#e6db74>&#39;k&#39;</span> history-substring-search-up
</span></span><span style=display:flex><span>bindkey -M vicmd <span style=color:#e6db74>&#39;j&#39;</span> history-substring-search-up
</span></span></code></pre></td></tr></table></div></div><p>保存生效配置，测试下最终的成功成果吧。效果如下所示：</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-19-zsh-6-powerful-plugins-04.gif alt></p><p>另外，高亮样色可配置化的，可通过类似如下语法实现：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span><span style=color:#66d9ef>export</span> HISTORY_SUBSTRING_SEARCH_HIGHLIGHT_FOUND<span style=color:#f92672>=</span>(bg<span style=color:#f92672>=</span>none,fg<span style=color:#f92672>=</span>magenta,bold)
</span></span></code></pre></td></tr></table></div></div><p>设置 background 为 none，即无色，而 front 设置为 magenta,bold。效果如下：</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-19-zsh-6-powerful-plugins-07.png alt></p><p>如上的 zsh 的颜色变量，可查看 <a href=https://github.com/zsh-users/zsh/blob/master/Functions/Misc/colors>zsh 仓库文档</a> 发现更多颜色。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>color<span style=color:#f92672>=(</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Codes listed in this array are from ECMA-48, Section 8.3.117, p. 61.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Those that are commented out are not widely supported or aren&#39;t closely</span>
</span></span><span style=display:flex><span><span style=color:#75715e># enough related to color manipulation, but are included for completeness.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Attribute codes:</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>00</span> none                 <span style=color:#75715e># 20 gothic</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>01</span> bold                 <span style=color:#75715e># 21 double-underline</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>02</span> faint                  <span style=color:#ae81ff>22</span> normal
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>03</span> italic                 <span style=color:#ae81ff>23</span> no-italic         <span style=color:#75715e># no-gothic</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>04</span> underline              <span style=color:#ae81ff>24</span> no-underline
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>05</span> blink                  <span style=color:#ae81ff>25</span> no-blink
</span></span><span style=display:flex><span><span style=color:#75715e># 06 fast-blink           # 26 proportional</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>07</span> reverse                <span style=color:#ae81ff>27</span> no-reverse
</span></span><span style=display:flex><span><span style=color:#75715e># 07 standout               27 no-standout</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>08</span> conceal                <span style=color:#ae81ff>28</span> no-conceal
</span></span><span style=display:flex><span><span style=color:#75715e># 09 strikethrough        # 29 no-strikethrough</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># ...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Bright color codes (xterm extension)</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>90</span> bright-gray            <span style=color:#ae81ff>100</span> bg-bright-gray
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>91</span> bright-red             <span style=color:#ae81ff>101</span> bg-bright-red
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>92</span> bright-green           <span style=color:#ae81ff>102</span> bg-bright-green
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>93</span> bright-yellow          <span style=color:#ae81ff>103</span> bg-bright-yellow
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>94</span> bright-blue            <span style=color:#ae81ff>104</span> bg-bright-blue
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>95</span> bright-magenta         <span style=color:#ae81ff>105</span> bg-bright-magenta
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>96</span> bright-cyan            <span style=color:#ae81ff>106</span> bg-bright-cyan
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>97</span> bright-white           <span style=color:#ae81ff>107</span> bg-bright-white
</span></span><span style=display:flex><span><span style=color:#f92672>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=you-should-use>you-should-use</h3><p><a href=https://github.com/MichaelAquilina/zsh-you-should-use>you-should-use</a> 用途是，如果执行的命令存在别名，会自动提示推荐使用的别名；</p><p>由于，默认的提示信息在命令输出之前，添加如下配置：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>export YSU_MESSAGE_POSITION<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;after&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>它的作用是，实现将提示信息打印在命令输出的最后。</p><p>最终效果演示，如下：</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-19-zsh-6-powerful-plugins-05.gif alt></p><h2 id=总结>总结</h2><p>本文介绍了 6 个 zsh 插件，每个插件都有特定的场景用途，希望能给大家的日常工作提升效率。</p><div>本文来源于 <a href=https://www.poloxue.com>POLOXUE's BLOG</a>，地址： <a href=https://www.poloxue.com/posts/2023-10-19-zsh-6-powerful-plugins/>终端环境：6 个强大的 zsh 提效插件</a></div></div><nav class="hide-on-mobile section-nav"><nav id=TableOfContents><ol><li><a href=#快速一览>快速一览</a></li><li><a href=#推荐一个网站>推荐一个网站</a></li><li><a href=#推荐插件>推荐插件</a><ol><li><a href=#copypath>copypath</a></li><li><a href=#copyfile>copyfile</a></li><li><a href=#copybuffer>copybuffer</a></li><li><a href=#sudo>sudo</a></li></ol></li><li><a href=#其他插件>其他插件</a><ol><li><a href=#history-substring-search>history-substring-search</a></li><li><a href=#you-should-use>you-should-use</a></li></ol></li><li><a href=#总结>总结</a></li></ol></nav></nav></div><div class=post><hr class=footer-separator><div class=tags><ul class=flat><li class=tag-li><a href=/tags/zsh>zsh</a></li></ul></div><div class=back><a href=https://www.poloxue.com/><span aria-hidden=true>← Back</span></a></div><div class=back></div></div><div class=post><img style=width:85% src=https://cdn.jsdelivr.net/gh/poloxue/images@main/wechat.png><div class=utterances></div><script src=https://utteranc.es/client.js repo=poloxue/blog issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></div><div class="footer wrapper"><nav class=nav><div>2023 Polo Xue All rights reserved</div></nav></div><script>feather.replace()</script><script>var enableTruncate=!0,filterDepth=!1;const MAX_DEPTH=9;window.addEventListener("DOMContentLoaded",()=>{const e=new IntersectionObserver(e=>{e.reverse().forEach(e=>{const n=e.target.getAttribute("id");if(e.intersectionRatio>0){var t=document.querySelectorAll(`nav li a[href="#${n}"]`);t!=null&&t.forEach(e=>{if(e!=null){var t=getDepth(e.parentElement);filterDepth&&t<=MAX_DEPTH&&(clearActiveStatesInTableOfContents(),e.parentElement.classList.add("active"))}else filterDepth||(clearActiveStatesInTableOfContents(),e.parentElement.classList.add("active"))})}})});document.querySelectorAll("h1[id],h2[id],h3[id],h4[id]").forEach(t=>{e.observe(t)})});function isVisible(e){if(!(e instanceof Element))return!1;const n=getComputedStyle(e);if(n.display==="none")return!1;if(n.visibility!=="visible")return!1;if(n.opacity<.1)return!1;if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;const t={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2};if(t.x<0)return!1;if(t.x>(document.documentElement.clientWidth||window.innerWidth))return!1;if(t.y<0)return!1;if(t.y>(document.documentElement.clientHeight||window.innerHeight))return!1;let s=document.elementFromPoint(t.x,t.y);do if(s===e)return!0;while(s=s.parentNode)return!1}function clearActiveStatesInTableOfContents(){document.querySelectorAll("nav li").forEach(e=>{e.classList.remove("active")})}function getDepth(e){for(var t=0;e!==null&&e.tagName.toLowerCase()!=="ul";)t++,e=e.parentElement;return t}function navItems(){var e=document.querySelectorAll("nav nav li a");return Array.from(e).filter(e=>e.href!=null&&e.hash.startsWith("#"))}function lasItemInNavBarVisible(){var e=navItems().slice(-1)[0];return isVisible(e)}document.addEventListener("DOMContentLoaded",function(){if(!enableTruncate)return;var e=navItems();console.log(e),lasItemInNavBarVisible()||(filterDepth=!0,e.forEach(function(e){var t=getDepth(e.parentElement);t>MAX_DEPTH&&e.parentElement.classList.add("depth-nested")}))})</script></body></html>