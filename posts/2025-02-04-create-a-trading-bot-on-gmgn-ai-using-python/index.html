<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>基于 Python 开发 GMGN.AI 抢币机器人 - POLOXUE's BLOG</title><meta name=viewport content="width=device-width,initial-scale=1"><meta itemprop=name content="基于 Python 开发 GMGN.AI 抢币机器人"><meta itemprop=description content="本文介绍如何使用 Python 开发一个 gmgn.ai 的抢币机器人，它可以用来从链上抢币，如 Trump 等 meme 币。"><meta itemprop=datePublished content="2025-02-04T11:51:45+08:00"><meta itemprop=dateModified content="2025-02-04T11:51:45+08:00"><meta itemprop=wordCount content="725"><meta itemprop=keywords content><meta property="og:title" content="基于 Python 开发 GMGN.AI 抢币机器人"><meta property="og:description" content="本文介绍如何使用 Python 开发一个 gmgn.ai 的抢币机器人，它可以用来从链上抢币，如 Trump 等 meme 币。"><meta property="og:type" content="article"><meta property="og:url" content="https://www.poloxue.com/posts/2025-02-04-create-a-trading-bot-on-gmgn-ai-using-python/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-02-04T11:51:45+08:00"><meta property="article:modified_time" content="2025-02-04T11:51:45+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="基于 Python 开发 GMGN.AI 抢币机器人"><meta name=twitter:description content="本文介绍如何使用 Python 开发一个 gmgn.ai 的抢币机器人，它可以用来从链上抢币，如 Trump 等 meme 币。"><script data-goatcounter=https://poloxue.goatcounter.com/count async src=//gc.zgo.at/count.js></script>
<link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/main.css><link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/extra.css><link id=dark-scheme rel=stylesheet type=text/css href=https://www.poloxue.com/css/dark.css><script src=https://www.poloxue.com/js/feather.min.js></script>
<script src=https://www.poloxue.com/js/main.js></script>
<script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script>
<script>MathJax={tex:{displayMath:[["[","]"],["$$","$$"]],inlineMath:[["(",")"],["$","$"]]}}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7019080091542951" crossorigin=anonymous></script></head><body><div class="container-wide wrapper"><div class=header><div class=avatar><a href=https://www.poloxue.com/><img src=/avatar.png alt="POLOXUE's BLOG"></a></div><h1 class=site-title><a href=https://www.poloxue.com/>POLOXUE's BLOG</a></h1><div class=site-description><nav class="nav social"><ul class=flat><li><a href=https://github.com/poloxue/ title=Github><i data-feather=github></i></a></li><li><a href=/posts/index.xml title=RSS><i data-feather=rss></i></a></li><li><a href=/ title=Wechat><i data-feather=message-circle></i></a></li><span class=scheme-toggle><a href=# id=scheme-toggle></a></ul></nav></div><nav class=nav><ul class=flat><li><a href=/>文章列表</a></li><li><a href=/tags>分类标签</a></li><li><a href=/about/about>关于我</a></li></ul></nav></div><div class=article-nav id=article-nav-id><div class=post><div class=post-header><div class=meta><div class=date><span class=day>04</span>
<span class=rest>Feb 2025</span></div></div><div class=matter><h1 class=title>基于 Python 开发 GMGN.AI 抢币机器人</h1></div></div><aside class="show-on-mobile toc" id=static-toc><header><h3>Contents</h3></header><nav id=TableOfContents><ol><li><a href=#什么是-gmgnai>什么是 GMGN.AI?</a></li><li><a href=#如何实现一个抢币机器人>如何实现一个抢币机器人</a></li><li><a href=#安装依赖包>安装依赖包</a></li><li><a href=#创建-telegram-app>创建 Telegram App</a></li><li><a href=#验证登录>验证登录</a></li><li><a href=#信号来源>信号来源</a></li><li><a href=#监听-sniper-new-消息>监听 &ldquo;Sniper New&rdquo; 消息</a></li><li><a href=#文本消息结构化>文本消息结构化</a></li><li><a href=#通过-sniper-bot-执行交易>通过 Sniper Bot 执行交易</a></li><li><a href=#总结>总结</a></li></ol></nav></aside><p>本文介绍如何使用 Python 开发一个 gmgn.ai 的抢币机器人，它可以用来从链上抢币，如 Trump 等 meme 币。</p><p><strong>风险提示：</strong> GMGN.AI 的币波动极大，有大量的空气币，务必谨慎操作，切勿在不了解的情况下投入过多资金。本文是我学习过程中的记录，请仔细甄别，防止资金损失。</p><p>完整的实例代码请查看：<a href=https://gist.github.com/poloxue/0777e9808747981ff935aaaa1140a73b>sniper_new.py</a>。</p><h2 id=什么是-gmgnai>什么是 GMGN.AI?</h2><p>GMGN.AI 是一个代币追踪和分析平台，提供了实时市场信号和自动交易机器人，我们可以监听它提供的实时信号，跟单聪明钱包，快速抓住赚钱机会。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2025-02/2025-02-04-create-trading-bot-on-gmgn-ai-using-python-01.png alt></p><p>通过 GMGN.AI 提供的分析能力，筛选潜力代币后，就可以在它的界面上直接交易。除此以外，它还提供了自动化交易机器人。GMGN.AI 的自动化交易机器人是通过 telegram 实现的，如追踪信号、聪明钱包等，都可以在 telegram 中实现。</p><p>GMGN.AI 内置的机器人功能相对单一，如果我想自定义交易规则，如按持有人数、流动市值等过滤掉一些不满足条件的币，就需要我们写程序实现了。</p><h2 id=如何实现一个抢币机器人>如何实现一个抢币机器人</h2><p>在 GMGN.AI 实现自定义交易机器人高度依赖 Telegram，要通过 telegram 的 app 将我的交易机器人与 GMGN.AI 的 telegram 机器人连接。我将使用 <strong>Python</strong> 实现这个机器人。</p><p>实现的大致流程如下：</p><ol><li><strong>创建 Telegram App</strong>：在 Telegram 上创建一个应用，获取 <code>api_id</code> 和 <code>api_hash</code>。</li><li><strong>监听 GMGN.AI 信号</strong>：GMGN.AI 会实时推送不同类型信号给 Telegram，机器人要监听刚兴趣的信号进行抢单。</li><li><strong>按条件过滤信号</strong>：监听到信号消息，将消息文本转为结构化的数据，判断是否下达交易。</li><li><strong>通过 Sniper Bot 执行交易</strong>：一旦确认某个币符合条件，发送指定给 Sniper Bot 下单。</li></ol><h2 id=安装依赖包>安装依赖包</h2><p>提前安装好依赖库：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pip install telethon instructor pydantic openai
</span></span></code></pre></td></tr></table></div></div><p><code>Telethon</code> 库是用于和 telegram 交互的，而 <code>instructor</code> 是要与大模型配合将 Telegram 文本消息结构化的；</p><h2 id=创建-telegram-app>创建 Telegram App</h2><p>访问 <a href=https://my.telegram.org/apps>Telegram Developer</a>，使用 Telegram 账户登录。接下来会看到如下的页面。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2025-02/2025-02-04-create-trading-bot-on-gmgn-ai-using-python-02.png alt></p><p>填写这个表单，创建应用，就能获得认证所要的 <code>api_id</code> 和 <code>api_hash</code>，实现程序和 Telegram 交互的身份验证。</p><h2 id=验证登录>验证登录</h2><p>正式开始机器人的逻辑前，先用 <code>Telethon</code> 来登录 Telegram，验证下 <code>api_id</code> 和 <code>api_hash</code> 是否正确。</p><p>实现代码如下：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> telethon <span style=color:#f92672>import</span> TelegramClient, events
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>api_id <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;YOUR_API_ID&#39;</span>
</span></span><span style=display:flex><span>api_hash <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;YOUR_API_HASH&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 创建 Telegram 客户端</span>
</span></span><span style=display:flex><span>client <span style=color:#f92672>=</span> TelegramClient(<span style=color:#e6db74>&#39;session_name&#39;</span>, api_id, api_hash)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>():
</span></span><span style=display:flex><span>    <span style=color:#75715e># 登录 Telegram</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>await</span> client<span style=color:#f92672>.</span>start()
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;登录成功！&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># 获取当前用户信息</span>
</span></span><span style=display:flex><span>    me <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> client<span style=color:#f92672>.</span>get_me()
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;用户名：</span><span style=color:#e6db74>{</span>me<span style=color:#f92672>.</span>username<span style=color:#e6db74>}</span><span style=color:#e6db74>，ID：</span><span style=color:#e6db74>{</span>me<span style=color:#f92672>.</span>id<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>await</span> client<span style=color:#f92672>.</span>run_until_disconnected()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>client<span style=color:#f92672>.</span>loop<span style=color:#f92672>.</span>run_until_complete(main())
</span></span></code></pre></td></tr></table></div></div><p>如果认证成功，会打印 &ldquo;登录成功&rdquo; 和我的用户信息。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>登录成功！
</span></span><span style=display:flex><span>用户名：xxx，ID：xxx
</span></span></code></pre></td></tr></table></div></div><h2 id=信号来源>信号来源</h2><p>GMGN.AI 提供一些信号群，如 t.me/gmgnsignals 和 t.me/gmgnsignalsol， 会实时推送不同主题的信号消息。</p><p>如下是 GMGN.AI 的官方文档上给出的信号列表：</p><ul><li>CTO信号 (社区接管）</li><li>Update DEX Screener Social Infos (更新社交三件套)</li><li>PUMP Update DEX Screener Social Infos (PUMP币更新社交三件套)</li><li>PUMP FDV Surge (PUMP内盘代币快速飙升)</li><li>Solana FDV Surge (Solana代币快速飙升)</li><li>Smart Money FOMO (聪明钱FOMO)</li><li>KOL FOMO</li><li>DEV Burnt Alert (作者烧币)</li><li>ATH Price (历史新高)</li><li>Heavy Bought (大单买入)</li><li>Sniper New (狙新币)</li></ul><p>我将以监听 &ldquo;Sniper New（狙击新币）&rdquo; 消息为例，演示如何狙击满足我要求的新币。</p><h2 id=监听-sniper-new-消息>监听 &ldquo;Sniper New&rdquo; 消息</h2><p>首先，&ldquo;Sniper New&rdquo; 消息位于 <a href=https://t.me/gmgnsignalsol>https://t.me/gmgnsignalsol</a> 群组下。我将用 <code>telethon</code> 的消息监听能力监听 <code>@gmgnsignalsol</code> 下的 &ldquo;Sniper New&rdquo; 消息。</p><p>先查看下消息的格式：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>🎯Featured New Pair🎯
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$PEPSI<span style=color:#f92672>(</span>Pepsi On Solana<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>4ZsJoreG6w6xpgHPtaBBA6aSr8EzHVoDdezAkxeFVJvG
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>📈 5m | 1h | 6h: &gt;99999% | &gt;99999% | &gt;99999%
</span></span><span style=display:flex><span>🎲 5m TXs/Vol: 54/$93.9K
</span></span><span style=display:flex><span>💡 MCP: $857.1M
</span></span><span style=display:flex><span>💧 Liq: 453.11 SOL <span style=color:#f92672>(</span>$186.8K 🔥100%<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>👥 Holder: <span style=color:#ae81ff>136</span>
</span></span><span style=display:flex><span>🕒 Open: 16s ago
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>✅ NoMint / ✅Blacklist / ✅Burnt
</span></span><span style=display:flex><span>✅TOP 10: 13.52%
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>⏳ DEV: Add Liquidity
</span></span><span style=display:flex><span>👨‍🍳 DEV Burnt烧币: 0<span style=color:#f92672>(</span>🔥Rate: %<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Backup BOT: US | <span style=color:#ae81ff>01</span> | <span style=color:#ae81ff>02</span> | <span style=color:#ae81ff>03</span> | <span style=color:#ae81ff>04</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>🌏 Website | ✈️ Telegram
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>🌈 NEW: Wallet Copy Trading is Live! Click NOW
</span></span></code></pre></td></tr></table></div></div><p>这个消息的特点是开头包含 &ldquo;Featured New Pair&rdquo; 文本。</p><p>如下是实现代码：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#a6e22e>@client.on</span>(events<span style=color:#f92672>.</span>NewMessage(
</span></span><span style=display:flex><span>    chats<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;@gmgnsignalsol&#34;</span>, pattern<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;.*Featured New Pair.*&#34;</span>
</span></span><span style=display:flex><span>))
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>on_new_sniper</span>(event):
</span></span><span style=display:flex><span>    print(event<span style=color:#f92672>.</span>message<span style=color:#f92672>.</span>text)
</span></span></code></pre></td></tr></table></div></div><p>如上的代码，<code>events.NewMessage</code> 的两个参数 <code>chats</code> 和 <code>pattern</code> 是用来限定监听什么样的信号。</p><p>到此，我的这个机器人就能实时监听新币消息了。</p><h2 id=文本消息结构化>文本消息结构化</h2><p>现在这个消息还是是文本内容，并不便于接下来的分析，程序中起码要能拿到如代币的合约地址、持有人数、市值的等信息。最起码的，要能拿到合约地址吧。</p><p>如何将文本结构化呢？</p><p>一种常用方式是通过正则解析，但这要求文本格式固定，稍微有所改变就要重新解析。</p><p>还有一种方式，通过 LLM 大语言模型实现文本结构化。deepseek 的出现让 LLM 的调用成本非常的低。如果在意成本，跑一个本地模型也能满足需求。</p><p>首先要让大模型知道要提取什么数据，通过 <code>pydantic</code> 将目标定义出来。</p><p>代码如下所示：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> pydantic <span style=color:#f92672>import</span> BaseModel, Field
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> datetime <span style=color:#f92672>import</span> datetime
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>NewPair</span>(BaseModel):
</span></span><span style=display:flex><span>    contract_address: str <span style=color:#f92672>=</span> Field(<span style=color:#f92672>...</span>, description<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;The contract address, used to uniquely identify the contract&#34;</span>)
</span></span><span style=display:flex><span>    market_cap: float <span style=color:#f92672>=</span> Field(<span style=color:#f92672>...</span>, description<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;The market capitalization of the contract, usually in USD&#34;</span>)
</span></span><span style=display:flex><span>    liquidity_sol: float <span style=color:#f92672>=</span> Field(<span style=color:#f92672>...</span>, description<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Liquidity in SOL&#34;</span>)
</span></span><span style=display:flex><span>    liquidity: float <span style=color:#f92672>=</span> Field(<span style=color:#f92672>...</span>, description<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Liquidity in USD&#34;</span>)
</span></span><span style=display:flex><span>    holders_count: int <span style=color:#f92672>=</span> Field(<span style=color:#f92672>...</span>, description<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;The number of holders of the contract&#34;</span>)
</span></span><span style=display:flex><span>    open_seconds: int <span style=color:#f92672>=</span> Field(<span style=color:#f92672>...</span>, description<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;The number of seconds since the contract was opened&#34;</span>)
</span></span><span style=display:flex><span>    top10_ratio: float <span style=color:#f92672>=</span> Field(<span style=color:#f92672>...</span>, description<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;The ratio of the top 10 holders, expressed as a decimal&#34;</span>)
</span></span><span style=display:flex><span>    no_mint: bool <span style=color:#f92672>=</span> Field(<span style=color:#f92672>...</span>, description<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Whether the contract is NoMint, meaning no new tokens can be minted&#34;</span>)
</span></span><span style=display:flex><span>    blacklist: bool <span style=color:#f92672>=</span> Field(<span style=color:#f92672>...</span>, description<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Whether the contract is blacklisted&#34;</span>)
</span></span><span style=display:flex><span>    burnt: bool <span style=color:#f92672>=</span> Field(<span style=color:#f92672>...</span>, description<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Whether the tokens in the contract are burnt&#34;</span>)
</span></span></code></pre></td></tr></table></div></div><p>接下来，用 LLM 按定义的模型从文本抽取数据即可。我用到一个名为 <code>instructor</code> 简化这个过程。</p><p>实现代码如下：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> instructor
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> openai <span style=color:#f92672>import</span> AsyncOpenAI
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>llm <span style=color:#f92672>=</span> instructor<span style=color:#f92672>.</span>from_openai(AsyncOpenAI(
</span></span><span style=display:flex><span>    base_url<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://api.deepseek.com&#34;</span>,
</span></span><span style=display:flex><span>    api_key<span style=color:#f92672>=</span>os<span style=color:#f92672>.</span>getenv(<span style=color:#e6db74>&#34;DEEPSEEK_API_KEY&#34;</span>),
</span></span><span style=display:flex><span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@client.on</span>(events<span style=color:#f92672>.</span>NewMessage(
</span></span><span style=display:flex><span>    chats<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;@gmgnsignalsol&#34;</span>, pattern<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;.*Featured New Pair.*&#34;</span>)
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>on_sniper_new</span>(event):
</span></span><span style=display:flex><span>    response <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> llm<span style=color:#f92672>.</span>chat<span style=color:#f92672>.</span>completions<span style=color:#f92672>.</span>create(
</span></span><span style=display:flex><span>        model<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;deepseek-chat&#34;</span>,
</span></span><span style=display:flex><span>        response_model<span style=color:#f92672>=</span>NewPair,
</span></span><span style=display:flex><span>        messages<span style=color:#f92672>=</span>[{<span style=color:#e6db74>&#34;role&#34;</span>: <span style=color:#e6db74>&#34;user&#34;</span>, <span style=color:#e6db74>&#34;content&#34;</span>: event<span style=color:#f92672>.</span>message<span style=color:#f92672>.</span>text}],
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    print(response)
</span></span></code></pre></td></tr></table></div></div><p>输出样例如下：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>contract_address<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;EX82HnkDihYGP8owXSDZfyMQXzovvYiWddNAxuxfpump&#39;</span> market_cap<span style=color:#f92672>=</span>87400.0 liquidity_sol<span style=color:#f92672>=</span>81.94 liquidity<span style=color:#f92672>=</span>34400.0 holders_count<span style=color:#f92672>=</span><span style=color:#ae81ff>523</span> open_seconds<span style=color:#f92672>=</span><span style=color:#ae81ff>120</span> top10_ratio<span style=color:#f92672>=</span>0.2207 no_mint<span style=color:#f92672>=</span>True blacklist<span style=color:#f92672>=</span>True burnt<span style=color:#f92672>=</span>True
</span></span></code></pre></td></tr></table></div></div><p>现在，要按选币条件过滤新币，如 top10 的占比要小于 10%，只有人数要大于 500 人，流动市值要大于 100k USD。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>on_sniper_new</span>(event):
</span></span><span style=display:flex><span>    r <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> llm<span style=color:#f92672>.</span>chat<span style=color:#f92672>.</span>completions<span style=color:#f92672>.</span>create(
</span></span><span style=display:flex><span>        model<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;deepseek-chat&#34;</span>,
</span></span><span style=display:flex><span>        response_model<span style=color:#f92672>=</span>NewPair,
</span></span><span style=display:flex><span>        messages<span style=color:#f92672>=</span>[{<span style=color:#e6db74>&#34;role&#34;</span>: <span style=color:#e6db74>&#34;user&#34;</span>, <span style=color:#e6db74>&#34;content&#34;</span>: event<span style=color:#f92672>.</span>message<span style=color:#f92672>.</span>text}],
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (
</span></span><span style=display:flex><span>        r<span style=color:#f92672>.</span>holders_count <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>500</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>and</span> r<span style=color:#f92672>.</span>liquidity <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>10e5</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>and</span> r<span style=color:#f92672>.</span>top10_ratio <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0.1</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>and</span> r<span style=color:#f92672>.</span>blacklist
</span></span><span style=display:flex><span>        <span style=color:#f92672>and</span> r<span style=color:#f92672>.</span>no_mint
</span></span><span style=display:flex><span>        <span style=color:#f92672>and</span> r<span style=color:#f92672>.</span>burnt
</span></span><span style=display:flex><span>    ):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>await</span> create_buy_order(r<span style=color:#f92672>.</span>contract_address, <span style=color:#ae81ff>0.01</span>) <span style=color:#75715e># 下单 0.01 SOL</span>
</span></span></code></pre></td></tr></table></div></div><p>到此，我已经按规则选择出来了我想要的币。现在还差最后一步，实现下单交函数 <code>create_buy_order</code>。</p><h2 id=通过-sniper-bot-执行交易>通过 Sniper Bot 执行交易</h2><p>GMGN.AI 提供了在 Telegram 通过发送命令执行交易的机器人，如实现自动化交易。 SOL 连上的抢币机器人，请查看官方文档：<a href=https://docs.gmgn.ai/cn/tg-solana-ju-ji-ji-qi-ren>TG Solana 狙击机器人</a>。</p><p>快速学习几个简单的使用机器人的命令案吧。</p><ul><li>立刻买入某合约 0.1 SOL：</li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/buy EX82HnkDihYGP8owXSDZfyMQXzovvYiWddNAxuxfpump 0.1
</span></span></code></pre></td></tr></table></div></div><ul><li>立刻卖出持有仓位的 50%：</li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sell EX82HnkDihYGP8owXSDZfyMQXzovvYiWddNAxuxfpump <span style=color:#ae81ff>50</span>
</span></span></code></pre></td></tr></table></div></div><p>还提供了很多其他的命令，如仓位、钱包余额、当前订单等等。</p><p>到此，<code>create_buy_order</code> 实现起来就很简单了，如下所示：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>create_buy_order</span>(contract_address, amount):
</span></span><span style=display:flex><span>    buy_command <span style=color:#f92672>=</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;/buy </span><span style=color:#e6db74>{</span>contract_address<span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>{</span>amount<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>await</span> client<span style=color:#f92672>.</span>send_message(<span style=color:#e6db74>&#34;@GMGN_sol03_bot&#34;</span>, buy_command)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#39;已执行交易: </span><span style=color:#e6db74>{</span>buy_command<span style=color:#e6db74>}</span><span style=color:#e6db74>&#39;</span>)
</span></span></code></pre></td></tr></table></div></div><p>到此，整个流程就打通了，接下来的重点就是找到能赚钱的策略了。</p><h2 id=总结>总结</h2><p>本文介绍了如何利用 Python 的 <strong>Telethon</strong> 库结合 <strong>GMGN.AI</strong> 提供的信号和 <strong>Sniper Bot</strong> 执行自动化抢币交易。</p><p>再次说明：我开发这个机器人仅仅为学习目的，去打通了抢币的自动化流程。链上交易风险很大，要想真正赚钱，还要自行下功夫研究。</p><div>本文来源于 <a href=https://www.poloxue.com>POLOXUE's BLOG</a>，地址： <a href=https://www.poloxue.com/posts/2025-02-04-create-a-trading-bot-on-gmgn-ai-using-python/>基于 Python 开发 GMGN.AI 抢币机器人</a></div></div><nav class="hide-on-mobile section-nav"><nav id=TableOfContents><ol><li><a href=#什么是-gmgnai>什么是 GMGN.AI?</a></li><li><a href=#如何实现一个抢币机器人>如何实现一个抢币机器人</a></li><li><a href=#安装依赖包>安装依赖包</a></li><li><a href=#创建-telegram-app>创建 Telegram App</a></li><li><a href=#验证登录>验证登录</a></li><li><a href=#信号来源>信号来源</a></li><li><a href=#监听-sniper-new-消息>监听 &ldquo;Sniper New&rdquo; 消息</a></li><li><a href=#文本消息结构化>文本消息结构化</a></li><li><a href=#通过-sniper-bot-执行交易>通过 Sniper Bot 执行交易</a></li><li><a href=#总结>总结</a></li></ol></nav></nav></div><div class=post><hr class=footer-separator><div class=tags></div><div class=back><a href=https://www.poloxue.com/><span aria-hidden=true>← Back</span></a></div><div class=back></div></div><div class=post><img style=width:85% src=https://cdn.jsdelivr.net/gh/poloxue/images@main/wechat.png><div class=utterances></div><script src=https://utteranc.es/client.js repo=poloxue/blog issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></div><div class="footer wrapper"><nav class=nav><div>2025 Polo Xue All rights reserved</div></nav></div><script>feather.replace()</script><script>var enableTruncate=!0,filterDepth=!1;const MAX_DEPTH=9;window.addEventListener("DOMContentLoaded",()=>{const e=new IntersectionObserver(e=>{e.reverse().forEach(e=>{const n=e.target.getAttribute("id");if(e.intersectionRatio>0){var t=document.querySelectorAll(`nav li a[href="#${n}"]`);t!=null&&t.forEach(e=>{if(e!=null){var t=getDepth(e.parentElement);filterDepth&&t<=MAX_DEPTH&&(clearActiveStatesInTableOfContents(),e.parentElement.classList.add("active"))}else filterDepth||(clearActiveStatesInTableOfContents(),e.parentElement.classList.add("active"))})}})});document.querySelectorAll("h1[id],h2[id],h3[id],h4[id]").forEach(t=>{e.observe(t)})});function isVisible(e){if(!(e instanceof Element))return!1;const n=getComputedStyle(e);if(n.display==="none")return!1;if(n.visibility!=="visible")return!1;if(n.opacity<.1)return!1;if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;const t={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2};if(t.x<0)return!1;if(t.x>(document.documentElement.clientWidth||window.innerWidth))return!1;if(t.y<0)return!1;if(t.y>(document.documentElement.clientHeight||window.innerHeight))return!1;let s=document.elementFromPoint(t.x,t.y);do if(s===e)return!0;while(s=s.parentNode)return!1}function clearActiveStatesInTableOfContents(){document.querySelectorAll("nav li").forEach(e=>{e.classList.remove("active")})}function getDepth(e){for(var t=0;e!==null&&e.tagName.toLowerCase()!=="ul";)t++,e=e.parentElement;return t}function navItems(){var e=document.querySelectorAll("nav nav li a");return Array.from(e).filter(e=>e.href!=null&&e.hash.startsWith("#"))}function lasItemInNavBarVisible(){var e=navItems().slice(-1)[0];return isVisible(e)}document.addEventListener("DOMContentLoaded",function(){if(!enableTruncate)return;var e=navItems();console.log(e),lasItemInNavBarVisible()||(filterDepth=!0,e.forEach(function(e){var t=getDepth(e.parentElement);t>MAX_DEPTH&&e.parentElement.classList.add("depth-nested")}))})</script></body></html>