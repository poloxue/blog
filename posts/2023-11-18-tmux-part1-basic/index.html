<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>我的终端环境：Tmux Part1 - 快速一览 - POLOXUE's BLOG</title><meta name=viewport content="width=device-width,initial-scale=1"><meta itemprop=name content="我的终端环境：Tmux Part1 - 快速一览"><meta itemprop=description content="本文将主要介绍 tmux 的快速一览。"><meta itemprop=datePublished content="2023-11-17T19:24:31+08:00"><meta itemprop=dateModified content="2023-11-17T19:24:31+08:00"><meta itemprop=wordCount content="145"><meta itemprop=keywords content><meta property="og:title" content="我的终端环境：Tmux Part1 - 快速一览"><meta property="og:description" content="本文将主要介绍 tmux 的快速一览。"><meta property="og:type" content="article"><meta property="og:url" content="https://www.poloxue.com/posts/2023-11-18-tmux-part1-basic/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-11-17T19:24:31+08:00"><meta property="article:modified_time" content="2023-11-17T19:24:31+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="我的终端环境：Tmux Part1 - 快速一览"><meta name=twitter:description content="本文将主要介绍 tmux 的快速一览。"><script data-goatcounter=https://poloxue.goatcounter.com/count async src=//gc.zgo.at/count.js></script>
<link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/main.css><link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/extra.css><link id=dark-scheme rel=stylesheet type=text/css href=https://www.poloxue.com/css/dark.css><script src=https://www.poloxue.com/js/feather.min.js></script>
<script src=https://www.poloxue.com/js/main.js></script></head><body><div class="container wrapper"><div class=header><div class=avatar><a href=https://www.poloxue.com/><img src=/avatar.png alt="POLOXUE's BLOG"></a></div><h1 class=site-title><a href=https://www.poloxue.com/>POLOXUE's BLOG</a></h1><div class=site-description><nav class="nav social"><ul class=flat><li><a href=https://github.com/poloxue/ title=Github><i data-feather=github></i></a></li><li><a href=/posts/index.xml title=RSS><i data-feather=rss></i></a></li><span class=scheme-toggle><a href=# id=scheme-toggle></a></ul></nav></div><nav class=nav><ul class=flat><li><a href=/>HOME</a></li><li><a href=/posts>POSTS</a></li><li><a href=/tags>TAGS</a></li><li><a href=/courses>COURSES</a></li><li><a href=/about/>ABOUT</a></li></ul></nav></div><div class=post><div class=post-header><div class=meta><div class=date><span class=day>17</span>
<span class=rest>Nov 2023</span></div></div><div class=matter><h1 class=title>我的终端环境：Tmux Part1 - 快速一览</h1></div></div><p>本文开始，我将用一个系列介绍如何高效使用 <a href=https://github.com/tmux/tmux>Tmux</a>。网上的教程不少，但是没看到几个将 Tmux 介绍明白的教程。</p><p>本篇博文是系列第一篇，目标是介绍我使用 Tmux 的快速一览。我将只演示效果，不介绍细节。后续文章再逐步介绍，打造一套高效的 Tmux 工作环境。</p><image src=https://cdn.jsdelivr.net/gh/poloxue/images@latest/./2023-11-18-tmux-part1-basic-02.gif><h2 id=何为-tmux>何为 Tmux？</h2><p>Tmux 是一款终端复用器，即 terminal multiplexer，它能实现将会话与终端的解绑，同时支持管理多个会话和窗口。</p><p>从如上的介绍中，能了解到 tmux 的两个核心能力，即会话与终端的解绑、会话窗口的管理。</p><h2 id=快速安装>快速安装</h2><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ brew install tmux
</span></span></code></pre></td></tr></table></div></div><p>验证安装是否成功：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ tmux -V
</span></span><span style=display:flex><span>tmux 3.3a
</span></span></code></pre></td></tr></table></div></div><h2 id=会话与终端解绑>会话与终端解绑</h2><p>简言之，即使终端窗口关闭，如果 tmux 没有停止则会话不停。</p><p>是不是想到了另外一个类似能力的 Shell 命令 - screen？但 Tmux 比它更加强大。</p><p>基于 Tmux 的这个能力，我们可以将一些后台任务放在 tmux 中进行，如此一来，即使如 ssh 断连，任务也还在继续运行。</p><p>演示案例，使用 tmux 命令开启一个 tmux 会话，执行 top 命令，detach 会话后，重新使用 tmux attach 进入会话。</p><p>效果如下所示：</p><image src=https://cdn.jsdelivr.net/gh/poloxue/images@latest/./2023-11-18-tmux-part1-basic-01.gif><p>我们会发现 top 命令还在运行中。</p><h2 id=会话窗口的管理>会话窗口的管理</h2><p>Tmux 支持同时开启多个会话和窗口，实现一个终端多会话多窗口的效果。</p><p>利用 Tmux 的这个特点，我们可以创建一些会话面板，长期运行多个任务，如创建一些监控面板。</p><p>再者，如果你习惯于在 terminal 上 coding，还可通过这种方式管理常驻我们的日常开发工作区。</p><image src=https://cdn.jsdelivr.net/gh/poloxue/images@latest/./2023-11-18-tmux-part1-basic-03.gif><h2 id=tmux-与-vim-集成>Tmux 与 Vim 集成</h2><p>对于平时使用 Vim 或 Neovim 为编程环境的朋友而言，Tmux 与 Vim 的集成能最大化提高日常工作的生产力。</p><p>如我们可以将两者的导航快捷键打通，实现 CTRL+hjkl 组合键在 Vim 和 Tmux 的 panes 之间的快捷跳转。</p><image src=https://cdn.jsdelivr.net/gh/poloxue/images@latest/./2023-11-18-tmux-part1-basic-04.gif><h2 id=剪贴板共享>剪贴板共享</h2><p>我们还可以将 Vim、Tmux 甚至系统的剪贴板打通，继续将我们的的 CV 大法发扬广大。</p><image src=https://cdn.jsdelivr.net/gh/poloxue/images@latest/./2023-11-18-tmux-part1-basic-05.gif><p>补充说明，Tmux 如果没有配置好，使用起来很别扭，如会话窗口间的切换、拷贝粘贴、缩放等能力，还有默认的快捷键配置，要不是使用体验差，要不就是不支持。</p><p>估计有不少朋友在简单用了 Tmux 几天就放弃了，或只是当成 screen 使用。</p><h2 id=窗口管理器-tmuxifier>窗口管理器 tmuxifier</h2><p>对于一些固定的会话窗口布局，我们还可以通过类似于 tmuxifier 或 tmuxinator 以配置方式固定布局，这样即使 tmux 关闭重启，也可一键开启窗口布局。</p><p>一个示例，配置一个博客写作工作空间，效果如下所示：</p><image src=https://cdn.jsdelivr.net/gh/poloxue/images@latest/./2023-11-18-tmux-part1-basic-06.gif><p>配置一个主的 pane 用于 vim 编写博客，底部的两个 pane，一个用于执行命令，一个用于运行启动 hugo server 实时查看博文实时效果。类似于 web 开发中常用的三个 pane。</p><h2 id=窗口布局持久化>窗口布局持久化</h2><p>Tmux 支持插件机制，同样有会话持久化的插件。它能实现在 tmux 重启后，恢复会话的最新状态。</p><p>不过，我确实不喜欢这种方式，电脑或服务器重启后，我希望由我决定重新开启什么样的环境。否则，久而久之，持久化的会话可能很多，杂乱无章。</p><p>Tmux 官方文档：<a href=https://github.com/tmux/tmux/wiki>Tmux official documentation</a></p><p>我的博文：<a href=https://www.poloxue.com/posts/2023-11-18-tmux-part1-basic/>我的终端环境：Tmux Part1 - 快速一览</a></p><hr class=footer-separator><div class=tags></div><div class=back><a href=https://www.poloxue.com/><span aria-hidden=true>← Back</span></a></div><div class=back></div></div><div class=utterances></div><script src=https://utteranc.es/client.js repo=poloxue/blog issue-term=pathname theme=github-light crossorigin=anonymous async></script></div><div class="footer wrapper"><nav class=nav><div>2023 Polo Xue All rights reserved</div></nav></div><script>feather.replace()</script></body></html>