<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>详细聊聊如何安装 Go - POLOXUE's 博客频道</title><meta name=viewport content="width=device-width,initial-scale=1"><meta itemprop=name content="详细聊聊如何安装 Go"><meta itemprop=description content="本篇文章进入 Go 的开发环境搭建系列。
我们知道，编写任何语言的代码都离不开两样工具，语言开发包和代码编辑工具。
今天先来聊聊如何安装 Go。
我们或许都会觉得这种事非常简单，不值得写篇文章介绍。最初我也是这么想的。但深入了解下来，渐渐感觉这也是一件很有意思的事情。
如何安装 和其他语言的安装类似，Go 的安装我们也可以采用三种方式进行，从简单到复杂依次是通过系统方式安装、官方二进制包安装和源码编译安装。
系统方式 不同操作系统通常都会为 Go 提供相应的软件安装方式。这种方式很大程度上简化了安装过程，能为我们省去一些繁杂的步骤。下面分别介绍下不同系统下的安装方式：
windows
在windows下，软件安装通常可通过下载类似 setup.exe/msi 软件包来操作。按照导航的提示，不断执行 &ldquo;下一步&rdquo; &ldquo;下一步&rdquo; 即可完成。访问 下地地址 将看到如下内容：
选择其中的 &ldquo;Microsoft Windows&rdquo; 下载 windows 安装包。现在的系统基本都是64位的了，一般情况下不用考虑 32/64 位系统的问题。
下载好了安装包，点击启动执行，接下来的步骤就是按导航提示一步步操作即可。有一点要注意的是，GO的默认安装在 C:\GO，如果要修改默认安装路径，在见到如下界面时重新选择。
ubuntu/debian
在debian或ubuntu上，我们可使用 apt-get 命令安装go。比如，在Ubuntu 16.04.5 LTS系统，使用如下命令安装：
sudo apt-get update // 视情况决定是否更新 sudo apt-get install golang-go 如果是新建的系统，建议先update下软件源。否则可能会因为某些源异常而无法顺利安装。
centos/redhat
在centos或redhat上，我们可以使用yum命令安装go。比如，在CentOS 7.5上，使用如下命令安装：
$ yum epel-release $ yum install golang 先下载了epel-releaes源，可防止出现yum安装golang不支持或版本太旧的问题。
macos
在macos上，我们可使用pkg文件或homebrew安装go。
pkg的安装方式与windows的setup.exe/msi的类似，下载软件然后按导航 &ldquo;下一步&rdquo; &ldquo;下一步&rdquo; 即可完成。
来说说如何使用homebrew安装。和yum和apt-get不同，homebrew并非mac系统自带，我们需要先安装。进入homebrew官网，页面顶部便说明了安装的方式，命令如下：
/usr/bin/ruby -e &#34;$(curl -fsSL https://raw."><meta itemprop=datePublished content="2019-04-15T20:05:26+08:00"><meta itemprop=dateModified content="2019-04-15T20:05:26+08:00"><meta itemprop=wordCount content="226"><meta itemprop=keywords content="golang,"><meta property="og:title" content="详细聊聊如何安装 Go"><meta property="og:description" content="本篇文章进入 Go 的开发环境搭建系列。
我们知道，编写任何语言的代码都离不开两样工具，语言开发包和代码编辑工具。
今天先来聊聊如何安装 Go。
我们或许都会觉得这种事非常简单，不值得写篇文章介绍。最初我也是这么想的。但深入了解下来，渐渐感觉这也是一件很有意思的事情。
如何安装 和其他语言的安装类似，Go 的安装我们也可以采用三种方式进行，从简单到复杂依次是通过系统方式安装、官方二进制包安装和源码编译安装。
系统方式 不同操作系统通常都会为 Go 提供相应的软件安装方式。这种方式很大程度上简化了安装过程，能为我们省去一些繁杂的步骤。下面分别介绍下不同系统下的安装方式：
windows
在windows下，软件安装通常可通过下载类似 setup.exe/msi 软件包来操作。按照导航的提示，不断执行 &ldquo;下一步&rdquo; &ldquo;下一步&rdquo; 即可完成。访问 下地地址 将看到如下内容：
选择其中的 &ldquo;Microsoft Windows&rdquo; 下载 windows 安装包。现在的系统基本都是64位的了，一般情况下不用考虑 32/64 位系统的问题。
下载好了安装包，点击启动执行，接下来的步骤就是按导航提示一步步操作即可。有一点要注意的是，GO的默认安装在 C:\GO，如果要修改默认安装路径，在见到如下界面时重新选择。
ubuntu/debian
在debian或ubuntu上，我们可使用 apt-get 命令安装go。比如，在Ubuntu 16.04.5 LTS系统，使用如下命令安装：
sudo apt-get update // 视情况决定是否更新 sudo apt-get install golang-go 如果是新建的系统，建议先update下软件源。否则可能会因为某些源异常而无法顺利安装。
centos/redhat
在centos或redhat上，我们可以使用yum命令安装go。比如，在CentOS 7.5上，使用如下命令安装：
$ yum epel-release $ yum install golang 先下载了epel-releaes源，可防止出现yum安装golang不支持或版本太旧的问题。
macos
在macos上，我们可使用pkg文件或homebrew安装go。
pkg的安装方式与windows的setup.exe/msi的类似，下载软件然后按导航 &ldquo;下一步&rdquo; &ldquo;下一步&rdquo; 即可完成。
来说说如何使用homebrew安装。和yum和apt-get不同，homebrew并非mac系统自带，我们需要先安装。进入homebrew官网，页面顶部便说明了安装的方式，命令如下：
/usr/bin/ruby -e &#34;$(curl -fsSL https://raw."><meta property="og:type" content="article"><meta property="og:url" content="https://www.poloxue.com/posts/coder/2019-04-15-install-golang/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-04-15T20:05:26+08:00"><meta property="article:modified_time" content="2019-04-15T20:05:26+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="详细聊聊如何安装 Go"><meta name=twitter:description content="本篇文章进入 Go 的开发环境搭建系列。
我们知道，编写任何语言的代码都离不开两样工具，语言开发包和代码编辑工具。
今天先来聊聊如何安装 Go。
我们或许都会觉得这种事非常简单，不值得写篇文章介绍。最初我也是这么想的。但深入了解下来，渐渐感觉这也是一件很有意思的事情。
如何安装 和其他语言的安装类似，Go 的安装我们也可以采用三种方式进行，从简单到复杂依次是通过系统方式安装、官方二进制包安装和源码编译安装。
系统方式 不同操作系统通常都会为 Go 提供相应的软件安装方式。这种方式很大程度上简化了安装过程，能为我们省去一些繁杂的步骤。下面分别介绍下不同系统下的安装方式：
windows
在windows下，软件安装通常可通过下载类似 setup.exe/msi 软件包来操作。按照导航的提示，不断执行 &ldquo;下一步&rdquo; &ldquo;下一步&rdquo; 即可完成。访问 下地地址 将看到如下内容：
选择其中的 &ldquo;Microsoft Windows&rdquo; 下载 windows 安装包。现在的系统基本都是64位的了，一般情况下不用考虑 32/64 位系统的问题。
下载好了安装包，点击启动执行，接下来的步骤就是按导航提示一步步操作即可。有一点要注意的是，GO的默认安装在 C:\GO，如果要修改默认安装路径，在见到如下界面时重新选择。
ubuntu/debian
在debian或ubuntu上，我们可使用 apt-get 命令安装go。比如，在Ubuntu 16.04.5 LTS系统，使用如下命令安装：
sudo apt-get update // 视情况决定是否更新 sudo apt-get install golang-go 如果是新建的系统，建议先update下软件源。否则可能会因为某些源异常而无法顺利安装。
centos/redhat
在centos或redhat上，我们可以使用yum命令安装go。比如，在CentOS 7.5上，使用如下命令安装：
$ yum epel-release $ yum install golang 先下载了epel-releaes源，可防止出现yum安装golang不支持或版本太旧的问题。
macos
在macos上，我们可使用pkg文件或homebrew安装go。
pkg的安装方式与windows的setup.exe/msi的类似，下载软件然后按导航 &ldquo;下一步&rdquo; &ldquo;下一步&rdquo; 即可完成。
来说说如何使用homebrew安装。和yum和apt-get不同，homebrew并非mac系统自带，我们需要先安装。进入homebrew官网，页面顶部便说明了安装的方式，命令如下：
/usr/bin/ruby -e &#34;$(curl -fsSL https://raw."><script data-goatcounter=https://poloxue.goatcounter.com/count async src=//gc.zgo.at/count.js></script>
<link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/main.css><link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/extra.css><link id=dark-scheme rel=stylesheet type=text/css href=https://www.poloxue.com/css/dark.css><script src=https://www.poloxue.com/js/main.js></script></head><body><div class="container wrapper"><div class=header><div class=avatar><a href=https://www.poloxue.com/><img src=/avatar.webp alt="POLOXUE's 博客频道"></a></div><h1 class=site-title><a href=https://www.poloxue.com/>POLOXUE's 博客频道</a></h1><div class=site-description><nav class="nav social"><ul class=flat></ul></nav></div><nav class=nav><ul class=flat><li><a href=/>首页</a></li><li><a href=/posts/coder>编程杂谈</a></li><li><a href=/posts/trader>交易人生</a></li><li><a href=/posts/translator>技术译文</a></li><li><a href=/posts/english>英语学习</a></li><li><a href=/about/>关于我</a></li></ul></nav></div><div class=post><div class=post-header><div class=meta><div class=date><span class=day>15</span>
<span class=rest>Apr 2019</span></div></div><div class=matter><h1 class=title>详细聊聊如何安装 Go</h1></div></div><p>本篇文章进入 Go 的开发环境搭建系列。</p><p>我们知道，编写任何语言的代码都离不开两样工具，语言开发包和代码编辑工具。</p><p>今天先来聊聊如何安装 Go。</p><p>我们或许都会觉得这种事非常简单，不值得写篇文章介绍。最初我也是这么想的。但深入了解下来，渐渐感觉这也是一件很有意思的事情。</p><h1 id=如何安装>如何安装</h1><p>和其他语言的安装类似，Go 的安装我们也可以采用三种方式进行，从简单到复杂依次是通过系统方式安装、官方二进制包安装和源码编译安装。</p><h2 id=系统方式>系统方式</h2><p>不同操作系统通常都会为 Go 提供相应的软件安装方式。这种方式很大程度上简化了安装过程，能为我们省去一些繁杂的步骤。下面分别介绍下不同系统下的安装方式：</p><p><strong>windows</strong></p><p>在windows下，软件安装通常可通过下载类似 setup.exe/msi 软件包来操作。按照导航的提示，不断执行 &ldquo;下一步&rdquo; &ldquo;下一步&rdquo; 即可完成。访问 <a href=https://zhuanlan.zhihu.com/p/62148085>下地地址</a> 将看到如下内容：</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@main/install-golang-01.png alt></p><p>选择其中的 &ldquo;Microsoft Windows&rdquo; 下载 windows 安装包。现在的系统基本都是64位的了，一般情况下不用考虑 32/64 位系统的问题。</p><p>下载好了安装包，点击启动执行，接下来的步骤就是按导航提示一步步操作即可。有一点要注意的是，GO的默认安装在 C:\GO，如果要修改默认安装路径，在见到如下界面时重新选择。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@main/install-golang-02.png alt></p><p><strong>ubuntu/debian</strong></p><p>在debian或ubuntu上，我们可使用 apt-get 命令安装go。比如，在Ubuntu 16.04.5 LTS系统，使用如下命令安装：</p><pre tabindex=0><code>sudo apt-get update // 视情况决定是否更新
sudo apt-get install golang-go
</code></pre><p>如果是新建的系统，建议先update下软件源。否则可能会因为某些源异常而无法顺利安装。</p><p><strong>centos/redhat</strong></p><p>在centos或redhat上，我们可以使用yum命令安装go。比如，在CentOS 7.5上，使用如下命令安装：</p><pre tabindex=0><code>$ yum epel-release
$ yum install golang
</code></pre><p>先下载了epel-releaes源，可防止出现yum安装golang不支持或版本太旧的问题。</p><p><strong>macos</strong></p><p>在macos上，我们可使用pkg文件或homebrew安装go。</p><p>pkg的安装方式与windows的setup.exe/msi的类似，下载软件然后按导航 &ldquo;下一步&rdquo; &ldquo;下一步&rdquo; 即可完成。</p><p>来说说如何使用homebrew安装。和yum和apt-get不同，homebrew并非mac系统自带，我们需要先安装。进入homebrew官网，页面顶部便说明了安装的方式，命令如下：</p><pre tabindex=0><code>/usr/bin/ruby -e &#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&#34;
</code></pre><p>接着安装go，命令如下：</p><pre tabindex=0><code>$ brew install go
</code></pre><p>非常简单就完成了安装。</p><p>系统安装方式的优点是简单。缺点是我们不能保证系统提供给的版本一定能满足我们的要求，比如上面ubuntu安装的go版本就较低，为go1.6。</p><h2 id=二进制包>二进制包</h2><p>接下来说说如何使用二进制包安装。所谓二进制包，也就是已经编译好的包。这种安装方式在不同的操作系统上步骤类似，考虑到windows用户最多，就以windows为例吧。</p><p>再次进入到下载页面，在列表可如下内容。因为我用的32位windows虚拟机，下载i386的包。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@main/install-golang-03.png alt></p><p>接着把下载的压缩包解压到某个文件夹，比如 c:\Program Files 下，进入查看，会发现其中已经包含了新的名为go的文件夹。</p><p>至此，二进制包的方式安装就完成了。因为二进制包是已编译好的软件包，所以不同系统、CPU架构下需要下载与之相应的包。</p><p>我们或许会想，就是移动个文件夹？是的，系统安装其实也就是做这些事情，不同在于系统安装在简化了操作的同时也会针对性做一些设置，比如配置好环境变量、文件分类存放等。</p><h2 id=源码编译>源码编译</h2><p>这种安装方式的好处是与系统无关，一切控制权都掌握在自己身上，能限制我们的只有自己的能力。</p><p>上篇文章说过，go在1.5版本已经移除了源码中全部的C代码，实现了自编译。因此，我们可以用系统已有go来编译源码，从而实现新版的安装。</p><p>前面在ubuntu下，我用apt-get安装的golang比较老的go1.6版。下面通过它来编译新版go。</p><p>下载源码，最新版源码可点击 <a href=https://dl.google.com/go/go1.12.2.src.tar.gz>go1.12.2.src.tar.gz</a> 下载。这里多说几句，go的源码托管在github上，地址：https://github.com/golang/go ，如想提前尝试新功能，可直接从github拉取最新的代码编译。这也是源码编译安装的一个好处。</p><p>源码下载完成后进入源码目录即可编译。注意，如果用虚拟机编译，要保证有充足的内存。</p><pre tabindex=0><code>$ tar zxvf go1.12.2.src.tar.gz       // 解压源码包
$ cd go/src
$ ./all.sh
</code></pre><p>执行./all.sh即可完成编译安装，也挺简单的。这个过程会耗费一旦时间，要等待会。其实这里简化了很多细节，如果想仔细研究的话，可以去阅读官方文档 install go from source。</p><h1 id=环境变量>环境变量</h1><p>在安装完golang后，还需了解三个环境变量，分别是GOROOT、GOPATH、PATH。下面来分别介绍一下它们的作用。</p><h2 id=goroot>GOROOT</h2><p>GO安装的根目录。该变量在不同的版本需要选择不同的处理方式。</p><p>在 GO 1.10 之前，我们需要视不同安装方式决定是否手动配置。比如源码编译安装，安装时会有默认设置。而采用二进制包安装，在windows系统中，推荐安装位置为C:\GO，在Linux、freeBSD、OS X系统，推荐安装在/usr/local/go下。如果要自定义安装位置，必须手动设置GOROOT。如果采用系统方式安装，这一切已经帮我们处理好了。</p><p>关于这个话题，推荐阅读：you-dont-need-to-set-goroot和分析源码安装go的过程。</p><p>在 GO 1.10 及以后，这个变量已经不用我们设置了，它会根据go工具集的位置，即相对go tool的位置来动态决定GOROOT的值。说简单点，其实就是go命令决定GOROOT的位置。</p><p>关于这个话题，推荐阅读：<a href=https://go-review.googlesource.com/c/go/+/42533/>use os.Executable to find GOROOT</a> 和 <a href=http://blog.studygolang.com/2013/01/%E5%88%86%E6%9E%90%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85go%E7%9A%84%E8%BF%87%E7%A8%8B/>github go issues 25002</a>。</p><h2 id=path>PATH</h2><p>各个操作系统都存在的环境变量，用于指定系统可执行命令的默认查找路径，在不写完整路径情况下执行命令。</p><p>以Windows为例，我之前把go安装在 C:\Program Files\go目录下，即GOROOT为C:\Program Files\go，那么PATH变量可追加上C:\Program Files\go\bin。</p><h2 id=gopath>GOPATH</h2><p>如果有朋友了解python，可以将其类比为python的环境变量PYTHONPATH，用来设置我们的工作目录，即编写代码的地方。包也都是从GOPATH设置的路径中寻找。</p><p>在go 1.8之前，该变量必须手动设置。go 1.8及之后，如果没有设置，默认在$HOME/go目录下，即你的用户目录中的go目录下。</p><h2 id=如何设置>如何设置</h2><p>介绍完三个变量，以我的mac为例介绍下设置方式吧。</p><p>类unix系统环境变量的设置方式都类似。使用export命令设置环境变量，并将命令加入到/etc/profile，该文件会在开启shell控制台的情况下执行。具体操作命令如下：</p><pre tabindex=0><code>$ sudo vim /etc/profile
...
export GOROOT=/usr/local/go         // 默认位置可不用设置，1.10版本后也可以不设置
export PATH=$PATH:$GOROOT/bin
export GOPATH=/Users/polo/work/go   // 可设置多个目录
</code></pre><p>经过以上步骤，环境变量配置完成，如果要立刻启用环境变量，我们需要重启下控制台。接着我们可以用go env看一下变量的配置情况。</p><pre tabindex=0><code>$ go env
GOARCH=&#34;amd64&#34;
GOBIN=&#34;/usr/local/go/bin&#34;
...
GOPATH=&#34;/Users/polo/Public/Work/go&#34;
...
GOROOT=&#34;/usr/local/go&#34;
</code></pre><h1 id=目录结构>目录结构</h1><p>再简单介绍下go的目录结构。以windows为例，进入C:\Program Files\go将看到如下内容。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@main/install-golang-04.png alt></p><p>介绍几个比较主要的目录：</p><ul><li>api，里面包含所有API列表，好像IDE使用了里面的信息；</li><li>bin，里面是一些go的工具命令，主要是go、gofmt、godoc，命令使用方法后面介绍</li><li>doc，go的使用文档，可以让我们在没有网络的情况下也可以阅读；</li><li>src，主要是一些源码，如golang的编译器、各种工具集以及标准库的源码，</li></ul><h1 id=入门案例>入门案例</h1><p>介绍到这里已经差不多了，接着来写一个简单的例子，即经典的Hello World。</p><p>首先，创建一个名为hello.go的文件，后缀必须为.go，内容如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Hello World&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>上面的代码主要由几部分组成，分别是</p><ul><li>package main，包声明，go中的文件必须属于某个包，main较为特殊，是程序入口所在；</li><li>import &ldquo;fmt&rdquo;，导入fmt包，这是一种引入包的方式，接下来就可以使用fmt提供的函数变量；</li><li>func main() {}，func关键字函数定义，main是函数名，在main包中为程序的入口；</li><li>fmt.Println，main函数中的代码块，表示调用fmt提供的Println函数打印 字符串"Hello World"</li></ul><p>接下来，我们可以使用 go run 执行下这段代码，如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#66d9ef>go</span> <span style=color:#a6e22e>run</span> <span style=color:#a6e22e>hello</span>.<span style=color:#66d9ef>go</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Hello</span> <span style=color:#a6e22e>World</span>
</span></span></code></pre></div><p>执行输出 &ldquo;Hello World&rdquo;。</p><h1 id=总结>总结</h1><p>本篇文章从不同系统和不同方式角度出发，介绍了golang在各种场景下的安装方式。之后又详细介绍了几个在go中常用的环境变量，并以一个简单的例子结尾，最终完成了go的安装。</p><hr class=footer-separator><div class=tags><ul class=flat><li class=tag-li><a href=/tags/golang>golang</a></li></ul></div><div class=back><a href=https://www.poloxue.com/><span aria-hidden=true>← Back</span></a></div><div class=back></div></div><div class=utterances></div><script src=https://utteranc.es/client.js repo=poloxue/blog issue-term=pathname theme=github-light crossorigin=anonymous async></script></div><div class="footer wrapper"><nav class=nav><div>2019 2023 Polo Xue All rights reserved</div></nav></div></body></html>