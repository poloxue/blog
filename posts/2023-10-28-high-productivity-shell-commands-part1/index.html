<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>用 exa/zoxide/bat 替换 ls/cd/cat 命令 - POLOXUE's BLOG</title><meta name=viewport content="width=device-width,initial-scale=1"><meta itemprop=name content="用 exa/zoxide/bat 替换 ls/cd/cat 命令"><meta itemprop=description content="本篇是高效命令系列第一篇，介绍 exa、zoxide 、bat 替换 ls 和 cd、cat，为我们的终端增添色彩。"><meta itemprop=datePublished content="2023-10-27T15:01:19+08:00"><meta itemprop=dateModified content="2023-10-27T15:01:19+08:00"><meta itemprop=wordCount content="590"><meta itemprop=keywords content="zsh,"><meta property="og:title" content="用 exa/zoxide/bat 替换 ls/cd/cat 命令"><meta property="og:description" content="本篇是高效命令系列第一篇，介绍 exa、zoxide 、bat 替换 ls 和 cd、cat，为我们的终端增添色彩。"><meta property="og:type" content="article"><meta property="og:url" content="https://www.poloxue.com/posts/2023-10-28-high-productivity-shell-commands-part1/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-10-27T15:01:19+08:00"><meta property="article:modified_time" content="2023-10-27T15:01:19+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="用 exa/zoxide/bat 替换 ls/cd/cat 命令"><meta name=twitter:description content="本篇是高效命令系列第一篇，介绍 exa、zoxide 、bat 替换 ls 和 cd、cat，为我们的终端增添色彩。"><script data-goatcounter=https://poloxue.goatcounter.com/count async src=//gc.zgo.at/count.js></script>
<link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/main.css><link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/extra.css><link id=dark-scheme rel=stylesheet type=text/css href=https://www.poloxue.com/css/dark.css><script src=https://www.poloxue.com/js/feather.min.js></script>
<script src=https://www.poloxue.com/js/main.js></script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7019080091542951" crossorigin=anonymous></script></head><body><div class="container-wide wrapper"><div class=header><div class=avatar><a href=https://www.poloxue.com/><img src=/avatar.png alt="POLOXUE's BLOG"></a></div><h1 class=site-title><a href=https://www.poloxue.com/>POLOXUE's BLOG</a></h1><div class=site-description><nav class="nav social"><ul class=flat><li><a href=https://github.com/poloxue/ title=Github><i data-feather=github></i></a></li><li><a href=/posts/index.xml title=RSS><i data-feather=rss></i></a></li><li><a href=/ title=Wechat><i data-feather=message-circle></i></a></li><span class=scheme-toggle><a href=# id=scheme-toggle></a></ul></nav></div><nav class=nav><ul class=flat><li><a href=/>文章列表</a></li><li><a href=/tags>分类标签</a></li><li><a href=/about/about>关于我</a></li></ul></nav></div><div class=article-nav id=article-nav-id><div class=post><div class=post-header><div class=meta><div class=date><span class=day>27</span>
<span class=rest>Oct 2023</span></div></div><div class=matter><h1 class=title>用 exa/zoxide/bat 替换 ls/cd/cat 命令</h1></div></div><aside class="show-on-mobile toc" id=static-toc><header><h3>Contents</h3></header><nav id=TableOfContents><ol><li><a href=#前言>前言</a></li><li><a href=#exahttpstheexawebsite><a href=https://the.exa.website/>exa</a></a><ol><li><a href=#快速安装>快速安装</a></li><li><a href=#使用>使用</a></li><li><a href=#别名>别名</a></li></ol></li><li><a href=#zoxidehttpsgithubcomajeetdsouzazoxide><a href=https://github.com/ajeetdsouza/zoxide>zoxide</a></a><ol><li><a href=#安装>安装</a></li><li><a href=#配置>配置</a></li><li><a href=#使用-1>使用</a></li></ol></li><li><a href=#bathttpsgithubcomsharkdpbat><a href=https://github.com/sharkdp/bat>bat</a></a><ol><li><a href=#安装-1>安装</a></li><li><a href=#使用-2>使用</a></li><li><a href=#配置-1>配置</a></li><li><a href=#别名-1>别名</a></li></ol></li><li><a href=#总结>总结</a></li></ol></nav></aside><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-28-high-productivity-shell-commands-part1-00.png alt></p><p>如下是视频版本，没有文章详细。</p><div id=video-2351792200yAP6ER8oGE style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden></div><script>var r=new XMLHttpRequest;r.addEventListener("load",function(){container=document.getElementById("video-2351792200yAP6ER8oGE"),data=JSON.parse(this.responseText),bb_id="235179220",yt_id="0yAP6ER8oGE",data.country_code=="CN"||yt_id==0&&bb_id!=0?container.innerHTML='<iframe src="https://player.bilibili.com/player.html?aid='+bb_id+'&amp;page=1" style="position:absolute;top:0;left:0;width:100%;height:100%;border:0;" allowfullscreen title="Bilibili Video" ></iframe > ':yt_id!=0&&(container.innerHTML='<iframe src="https://www.youtube.com/embed/'+yt_id+'"style="position:absolute;top:0;left:0;width:100%;height:100%; border:0;" title="YouTube video player" frameborder="0" allow="accelerometer;autoplay;clipboard-write;encrypted-media;gyroscope;picture-in-picture;web-share"allowfullscreen></iframe>')}),r.open("GET","https://ipapi.co/json/"),r.send()</script><p>类 Unix 系统发展多年，不少古董命令还在占据终端的绝大部分时间，但它们的使用体验上却是差强人意。最能说明问题的就是那个 cd 命令，无论是多么丝滑的操作，一旦遇到需要 change directory 就会变得磕磕绊绊。</p><p>从本文开始，我计划用几篇文章介绍提升终端效率的一系列命令，它们更具现代风格，希望能让你眼前一亮。</p><h2 id=前言>前言</h2><p>本文是高效命令系列第一篇，将先介绍平时工作中最常用的与目录文件相关的命令，分别是替换 ls 的 <a href=https://github.com/ogham/exa>exa</a>，替换 cd 的 <a href=https://github.com/ajeetdsouza/zoxide>zoxide</a> 和替换 cat 的 <a href=https://github.com/sharkdp/bat>bat</a>。它们的优势会在文章中逐步展开说明。</p><blockquote><p>特别提醒：exa 已停止维护，可用 exa 的 fork 版本 <a href=https://github.com/eza-community/eza>eza</a> 替代。</p></blockquote><p>正式开始前，先推荐一个 github 仓库 - <a href=https://github.com/ibraheemdev/modern-unix>modern-unix</a>，其中收录了大量的更具现代风格的命令，可用于替换一大波老古董命令，在这个系列的最后一篇，我将会整体过下该仓库中的所有命令。希望通过这些命令的学习，能进一步提升我们的效率。</p><h2 id=exahttpstheexawebsite><a href=https://the.exa.website/>exa</a></h2><p>首先是 exa，它是一款可用于替换系统默认 ls 的命令，在平时工作中 ls 几乎使用最多的命令，而 exa 在支持 ls 的基本能力基础上，提供了更丰富的特性。</p><h3 id=快速安装>快速安装</h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>brew install exa <span style=color:#75715e># 其他系统请查看 GithHub README.md</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=使用>使用</h3><p>首先，exa 默认提供了配色效果，无需 ls 要追加 <code>--color</code> 参数，省去了 alias 别名的设置。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-28-high-productivity-shell-commands-part1-01.png alt></p><p>其次，exa 支持显示文件图片，通过指明 <code>--icons</code> 实现，显示文件类型图标；</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-28-high-productivity-shell-commands-part1-02.png alt></p><p>更复杂的命令，支持 ls -l 显示文件列表详情，添加头部说明 header，如果是 git 仓库，可显示文件的 Git 信息。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-28-high-productivity-shell-commands-part1-03.png alt></p><p>如果想显示文件数，也不需要单独安装 tree 命令，如下 exa --tree --icons，显示文件树；</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-28-high-productivity-shell-commands-part1-04.png alt></p><h3 id=别名>别名</h3><p>如果你钟爱 exa 的这些能力，可通过别名将默认 ls 和 tree 命令替换为 exa。</p><p>如下是一些常见的别名设置：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 默认显示 icons： </span>
</span></span><span style=display:flex><span>alias ls<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;exa --icons&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 显示文件目录详情</span>
</span></span><span style=display:flex><span>alias ll<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;exa --icons --long --header&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 显示全部文件目录，包括隐藏文件</span>
</span></span><span style=display:flex><span>alias la<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;exa --icons --long --header --all&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 显示详情的同时，附带 git 状态信息</span>
</span></span><span style=display:flex><span>alias lg<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;exa --icons --long --header --all --git&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 替换 tree 命令</span>
</span></span><span style=display:flex><span>alias tree<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;exa --tree --icons&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>如此一来，就将 exa 设置为系统默认 ls。</p><p>除了 exa，还有两个可用于可替代 ls 的命令，分别名为 colorls 和 lsd，colorls 的性能太差，如果是目录中的文件数量多，能感觉到明显的卡顿。lsd 的号称是下一代的 ls，使用起来没有 colorls 那么卡，但性能上也不如 exa。</p><p>如果你对它们感兴趣，可以研究下。</p><p>特别提醒，别名生效后，如果要用原始命令，要通过类似于 <code>\command</code> 的形式实现，如 <code>\ls</code> 将无效别名设置，直接使用系统内置 ls 命令。另外，如果你的 shell 脚本里使用了它，可能影响这些脚本的执行。这是设置别名替换系统命令要考虑的问题。</p><p>我们继续介绍下一个命令 - zoxide。</p><h2 id=zoxidehttpsgithubcomajeetdsouzazoxide><a href=https://github.com/ajeetdsouza/zoxide>zoxide</a></h2><p>在正式介绍 zoxide 前，尝试提前问自己一个问题，Linux 默认命令 cd 好不好用？我的答案是，相当难用，无论多么丝滑的操作，一旦遇到 cd，只能说一句 f**k。</p><p>你是不是经常这样使用 cd 呢？</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>cd ../
</span></span><span style=display:flex><span>cd ../
</span></span><span style=display:flex><span>cd ../
</span></span><span style=display:flex><span>cd ../../../
</span></span><span style=display:flex><span>cd x/
</span></span><span style=display:flex><span>cd y/
</span></span><span style=display:flex><span>cd z/
</span></span></code></pre></td></tr></table></div></div><p>如果不想被 cd 折磨的话，我强烈推荐这个工具：<a href=https://github.com/ajeetdsouza/zoxide>zoxide</a>。</p><p><a href=https://github.com/ajeetdsouza/zoxide>zoxide</a> 是一款受到 z 和 autojump 启发而来的命令，它会记录访问过的目录，通过搜索找到最匹配你目标的目标。从而实现以 <strong>最最最最</strong> 少按键就能实现目录跳转。</p><p>一般情况下，我们关注的目录就那几个，90% 的情况用它的快速跳转能力即可，而一些特殊情况，cd 绝对路径即可，亦或者是使用它提供的另一种方式，交互式搜索。</p><p>前面我写过一篇文章 介绍了 oh-my-zsh 提供的 z 插件，zoxide 与 z 相比更易于使用。这有一份对比报告：<a href=https://www.libhunt.com/compare-zsh-z-vs-zoxide>zoxide vs zsh-z</a>。</p><p>具体介绍它的安装使用吧。</p><h3 id=安装>安装</h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>brew install zoxide <span style=color:#75715e># 其他系统请查看 GithHub README.md</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=配置>配置</h3><p>在 zsh 中使用 zoxide 要简单配置下，一行命令将 zoxide 初始化命令追加到 <code>~/.zshrc</code> 中。</p><p>如下所示：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo <span style=color:#e6db74>&#39;eval &#34;$(zoxide init zsh --cmd z)&#34;&#39;</span> &gt;&gt; ~/.zshrc
</span></span></code></pre></td></tr></table></div></div><p>生效后，即可通过 z 命令使用 zoxide 的能力。</p><p>亦或者，如果觉得要从习惯于使用 cd 切换到 z 有难度，可直接将 z 命名为 cd，直接替换掉系统的 cd 命令，配置 <code>--cmd cd</code> 即可。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo <span style=color:#e6db74>&#39;eval &#34;$(zoxide init zsh --cmd cd)&#34;&#39;</span> &gt;&gt; ~/.zshrc
</span></span></code></pre></td></tr></table></div></div><p>我将会使用 zoxide 直接替换 cd 命令进行演示，即第二种配置方式。</p><h3 id=使用-1>使用</h3><p>正式开始使用前，先假设我有如下目录结构：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>~/Hello
</span></span><span style=display:flex><span> |_ ./golang-examples
</span></span><span style=display:flex><span> |_ ./python-examples
</span></span><span style=display:flex><span> |_ ./rust-examples
</span></span><span style=display:flex><span> |_ ./trading-strategies
</span></span></code></pre></td></tr></table></div></div><p>由于 zoxide 是在历史访问路径的基础上智能选择。为了便于演示，我把之前的访问历史记录已经清空了，并通过如下命令初始化访问历史：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>cd ~/Hello/golang-examples
</span></span><span style=display:flex><span>cd ~/Hello/python-examples
</span></span><span style=display:flex><span>cd ~/Hello/rust-examples
</span></span><span style=display:flex><span>cd ~/Hello/trading-strategies
</span></span></code></pre></td></tr></table></div></div><p>假设现在在 <code>~</code> 用户目录下，如下是演示效果：</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-28-high-productivity-shell-commands-part1-05.gif alt></p><p>主要演示了 zoxide 的三个能力，分别是全名匹配、部分匹配和如果存在重名目录下会选择智能最优的目录。</p><p>首先是全名匹配，通过 zoxide 的 cd 命令，在 <code>~</code> 目录下快速跳转到 golang-examples 目录，直接输入 <code>cd golang-examples</code>。</p><p>其次是部分匹配，由于记录中只有一个目录包含 python，执行 cd python 会直接进入到 <code>python-examples</code>；</p><p>最后是重名按算法选择最优目录，我不清楚它的具体算法，但观察来看，它当前在 python-examples 目录下，执行 cd examples 会优先找到最近访问的包含 examples 的目录，且非当前位置，即 <code>golang-examples</code>。</p><p>如果觉得它的智能算法不够灵活，还可以尽量补全路径，和使用普通 cd 一样。如果还想要它的效率，也可以进入它的交互搜索模式，zoxide 支持两种方式进入交互模式：</p><p>一种是输入 cd + 目标名称 + 快捷键 &lt;Space>+&lt;Tab>，进入交互选择模式，效果如下：</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-28-high-productivity-shell-commands-part1-07.gif alt></p><p>另一种是直接使用 cdi 命令也可进入交互搜索模式，如下所示：</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-28-high-productivity-shell-commands-part1-06.gif alt></p><p>补充，zoxide 本身也是个命令，你可以用它增删改查，管理历史方案记录。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ zoxide query golang <span style=color:#75715e># 返回最匹配 golang 的目录</span>
</span></span><span style=display:flex><span>$ zoxide query golang --list <span style=color:#75715e># 返回所有匹配 golang 的目录</span>
</span></span><span style=display:flex><span>$ zoxide -h <span style=color:#75715e># 更多帮助信息</span>
</span></span><span style=display:flex><span>zoxide 0.9.2
</span></span><span style=display:flex><span>Ajeet D<span style=color:#960050;background-color:#1e0010>&#39;</span>Souza &lt;98ajeet@gmail.com&gt;
</span></span><span style=display:flex><span>https://github.com/ajeetdsouza/zoxide
</span></span><span style=display:flex><span>一个更智能的终端 <span style=color:#e6db74>`</span>cd<span style=color:#e6db74>`</span> 命令
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>使用方法：
</span></span><span style=display:flex><span>  zoxide &lt;命令&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>命令：
</span></span><span style=display:flex><span>  add     添加一个新目录或增加其排名
</span></span><span style=display:flex><span>  edit    编辑数据库
</span></span><span style=display:flex><span>  import  从另一个应用导入条目
</span></span><span style=display:flex><span>  init    生成 shell 配置
</span></span><span style=display:flex><span>  query   在数据库中搜索目录
</span></span><span style=display:flex><span>  remove  从数据库中移除目录
</span></span></code></pre></td></tr></table></div></div><p>差不多，zoxide 大概就介绍的这么多吧。希望对于想用它替换掉 cd 的朋友有所帮助吧。</p><h2 id=bathttpsgithubcomsharkdpbat><a href=https://github.com/sharkdp/bat>bat</a></h2><p>说完了 ls 列举目录，cd 进入目录，我们继续介绍一个命令，<a href=https://github.com/sharkdp/bat>bat</a> 查看文件内容。</p><p>首先，bat 和 Baidu/Alibaba/Tencent 没有联系，它是一款支持语法高亮、GIT 集成的用于替换类 Unix 系统下快速查看文件内容的命令，功能与 cat 相似的命令。</p><p>我们直接介绍它的安装与使用吧。</p><h3 id=安装-1>安装</h3><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>brew install bat <span style=color:#75715e># 其他系统请查看 GithHub README.md</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=使用-2>使用</h3><p>对于 bat 命令，我先介绍它的使用，然后再谈配置，因为配置并非它的必选项而是优化项。</p><p>bat 相比于 cat 的第一个优势，就是它支持语法高亮效果与行号显示。如我们查看一个 Go 的源码文件，效果如下：</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-28-high-productivity-shell-commands-part1-08.gif alt></p><p>而且，bat 还集成 Git。如下我们修改了 logger.go 文件，通过 bat 即可查看它的修改点；</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-28-high-productivity-shell-commands-part1-09.gif alt></p><p>默认情况下，bat 采用分页输出，这对于读取大文件非常有帮助，不用担心失误导致产生一大片控制台输出。但如果你希望 bat 和 cat 一样，一次性无分页输出文本，可通过 <code>--pager=never</code> 或 <code>--no-pager</code> 选项实现。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>bat --pager<span style=color:#f92672>=</span>never logger.go
</span></span><span style=display:flex><span>bat --no-pager logger.go
</span></span></code></pre></td></tr></table></div></div><p>如果你习惯使用 cat 的模式，希望默认不启用分页能力，可直接在配置文件配置默认行为，在其中增加 <code>--pager=never</code>。</p><p>接下来说说如何通过 bat 的配置改变它的默认行为吧。</p><h3 id=配置-1>配置</h3><p>bat 的配置文件路径是通过环境变量指定的。我们在 <code>.zshrc</code> 中设置 bat 配置文件位置环境变量。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>export BAT_CONFIG_PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>XDG_CONFIG_HOME<span style=color:#66d9ef>:-</span>~/.config/bat.conf<span style=color:#e6db74>&#34;
</span></span></span></code></pre></td></tr></table></div></div><p>生效后，执行如下命令将会生成配置文件：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>bat --generate-config-file
</span></span></code></pre></td></tr></table></div></div><p>生成配置文件，位于 <code>~/.config/bat.conf</code>。</p><p>假设我不喜欢 bat 默认的主题，就可以通过配置修改了。如配置 bat 默认选项，将主题改为 <code>--theme=TwoDark</code> 启用：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span><span style=color:#75715e># Specify desired highlighting theme (e.g. &#34;TwoDark&#34;). Run `bat --list-themes`</span>
</span></span><span style=display:flex><span><span style=color:#75715e># for a list of all available themes</span>
</span></span><span style=display:flex><span>--theme<span style=color:#f92672>=</span>TwoDark
</span></span></code></pre></td></tr></table></div></div><p>如果你想查看更多主题，可通过 <code>bat --list-themes</code> 查看 bat 支持的主题列表。</p><p>现在，不想启用 bat 的分页能力，在配置中添加：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>--pager<span style=color:#f92672>=</span>never
</span></span></code></pre></td></tr></table></div></div><h3 id=别名-1>别名</h3><p>觉得 bat 不错，想直接替换 cat 命令，在 <code>zshrc</code> 中配置别名即可，将默认 cat 命令，替换为 bat，如下所示：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>alias cat<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bat&#39;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=总结>总结</h2><p>本文介绍了三个命令，分别是 exa(eza)、zoxide 和 bat 的使用，都是日常工作中最常用的三个命令。利用好它们，最常用最无聊的命令也能产生有趣的体验，实现效率提升。</p><p>最后，希望你喜欢这篇文章，且真正给你带来了帮助。</p><div>本文来源于 <a href=https://www.poloxue.com>POLOXUE's BLOG</a>，地址： <a href=https://www.poloxue.com/posts/2023-10-28-high-productivity-shell-commands-part1/>用 exa/zoxide/bat 替换 ls/cd/cat 命令</a></div></div><nav class="hide-on-mobile section-nav"><nav id=TableOfContents><ol><li><a href=#前言>前言</a></li><li><a href=#exahttpstheexawebsite><a href=https://the.exa.website/>exa</a></a><ol><li><a href=#快速安装>快速安装</a></li><li><a href=#使用>使用</a></li><li><a href=#别名>别名</a></li></ol></li><li><a href=#zoxidehttpsgithubcomajeetdsouzazoxide><a href=https://github.com/ajeetdsouza/zoxide>zoxide</a></a><ol><li><a href=#安装>安装</a></li><li><a href=#配置>配置</a></li><li><a href=#使用-1>使用</a></li></ol></li><li><a href=#bathttpsgithubcomsharkdpbat><a href=https://github.com/sharkdp/bat>bat</a></a><ol><li><a href=#安装-1>安装</a></li><li><a href=#使用-2>使用</a></li><li><a href=#配置-1>配置</a></li><li><a href=#别名-1>别名</a></li></ol></li><li><a href=#总结>总结</a></li></ol></nav></nav></div><div class=post><hr class=footer-separator><div class=tags><ul class=flat><li class=tag-li><a href=/tags/zsh>zsh</a></li></ul></div><div class=back><a href=https://www.poloxue.com/><span aria-hidden=true>← Back</span></a></div><div class=back></div></div><div class=post><img style=width:85% src=https://cdn.jsdelivr.net/gh/poloxue/images@main/wechat.png><div class=utterances></div><script src=https://utteranc.es/client.js repo=poloxue/blog issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></div><div class="footer wrapper"><nav class=nav><div>2023 Polo Xue All rights reserved</div></nav></div><script>feather.replace()</script><script>var enableTruncate=!0,filterDepth=!1;const MAX_DEPTH=9;window.addEventListener("DOMContentLoaded",()=>{const e=new IntersectionObserver(e=>{e.reverse().forEach(e=>{const n=e.target.getAttribute("id");if(e.intersectionRatio>0){var t=document.querySelectorAll(`nav li a[href="#${n}"]`);t!=null&&t.forEach(e=>{if(e!=null){var t=getDepth(e.parentElement);filterDepth&&t<=MAX_DEPTH&&(clearActiveStatesInTableOfContents(),e.parentElement.classList.add("active"))}else filterDepth||(clearActiveStatesInTableOfContents(),e.parentElement.classList.add("active"))})}})});document.querySelectorAll("h1[id],h2[id],h3[id],h4[id]").forEach(t=>{e.observe(t)})});function isVisible(e){if(!(e instanceof Element))return!1;const n=getComputedStyle(e);if(n.display==="none")return!1;if(n.visibility!=="visible")return!1;if(n.opacity<.1)return!1;if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;const t={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2};if(t.x<0)return!1;if(t.x>(document.documentElement.clientWidth||window.innerWidth))return!1;if(t.y<0)return!1;if(t.y>(document.documentElement.clientHeight||window.innerHeight))return!1;let s=document.elementFromPoint(t.x,t.y);do if(s===e)return!0;while(s=s.parentNode)return!1}function clearActiveStatesInTableOfContents(){document.querySelectorAll("nav li").forEach(e=>{e.classList.remove("active")})}function getDepth(e){for(var t=0;e!==null&&e.tagName.toLowerCase()!=="ul";)t++,e=e.parentElement;return t}function navItems(){var e=document.querySelectorAll("nav nav li a");return Array.from(e).filter(e=>e.href!=null&&e.hash.startsWith("#"))}function lasItemInNavBarVisible(){var e=navItems().slice(-1)[0];return isVisible(e)}document.addEventListener("DOMContentLoaded",function(){if(!enableTruncate)return;var e=navItems();console.log(e),lasItemInNavBarVisible()||(filterDepth=!0,e.forEach(function(e){var t=getDepth(e.parentElement);t>MAX_DEPTH&&e.parentElement.classList.add("depth-nested")}))})</script></body></html>