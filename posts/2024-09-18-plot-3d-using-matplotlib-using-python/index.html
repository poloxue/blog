<!doctype html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>如何使用 Python Matplotlib 绘制 3D 曲面图 - 菠萝学量化</title><meta name=viewport content="width=device-width,initial-scale=1"><meta itemprop=name content="如何使用 Python Matplotlib 绘制 3D 曲面图"><meta itemprop=description content="在数据可视化中，3D 图表是一个非常有用的工具，特别是当我们想要展示复杂的三维数据时，如期权的波动率曲面。Python 的 `matplotlib` 库提供了生成各种类型图表，包括 3D 图表。"><meta itemprop=datePublished content="2024-09-18T13:26:13+08:00"><meta itemprop=dateModified content="2024-09-18T13:26:13+08:00"><meta itemprop=wordCount content="357"><meta property="og:url" content="https://www.poloxue.com/posts/2024-09-18-plot-3d-using-matplotlib-using-python/"><meta property="og:site_name" content="菠萝学量化"><meta property="og:title" content="如何使用 Python Matplotlib 绘制 3D 曲面图"><meta property="og:description" content="在数据可视化中，3D 图表是一个非常有用的工具，特别是当我们想要展示复杂的三维数据时，如期权的波动率曲面。Python 的 `matplotlib` 库提供了生成各种类型图表，包括 3D 图表。"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-18T13:26:13+08:00"><meta property="article:modified_time" content="2024-09-18T13:26:13+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="如何使用 Python Matplotlib 绘制 3D 曲面图"><meta name=twitter:description content="在数据可视化中，3D 图表是一个非常有用的工具，特别是当我们想要展示复杂的三维数据时，如期权的波动率曲面。Python 的 `matplotlib` 库提供了生成各种类型图表，包括 3D 图表。"><script data-goatcounter=https://poloxue.goatcounter.com/count async src=//gc.zgo.at/count.js></script><link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/main.css><link rel=stylesheet type=text/css media=screen href=https://www.poloxue.com/css/extra.css><link id=dark-scheme rel=stylesheet type=text/css href=https://www.poloxue.com/css/dark.css><script src=https://www.poloxue.com/js/feather.min.js></script><script src=https://www.poloxue.com/js/main.js></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script><script>MathJax={tex:{displayMath:[["[","]"],["$$","$$"]],inlineMath:[["(",")"],["$","$"]]}}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7019080091542951" crossorigin=anonymous></script></head><body><div class="container wrapper"><div class=header><div class=avatar><a href=https://www.poloxue.com/><img src=/avatar.png alt=菠萝学量化></a></div><h1 class=site-title><a href=https://www.poloxue.com/>菠萝学量化</a></h1><div class=site-description><nav class="nav social"><ul class=flat><li><a href=https://github.com/poloxue/ title=Github><i data-feather=github></i></a></li><li><a href=/posts/index.xml title=RSS><i data-feather=rss></i></a></li><li><a href=/ title=Wechat><i data-feather=message-circle></i></a></li><span class=scheme-toggle><a href=# id=scheme-toggle></a></ul></nav></div><nav class=nav><ul class=flat><li><a href=/>文章列表</a></li><li><a href=/about/about>关于我</a></li></ul></nav></div><div class=post><div class=post-header><div class=meta><div class=date><span class=day>18</span>
<span class=rest>Sep 2024</span></div></div><div class=matter><h1 class=title>如何使用 Python Matplotlib 绘制 3D 曲面图</h1></div></div><p>在数据可视化中，3D 图表是一个非常有用的工具，特别是当我们想要展示复杂的三维数据时，如期权的波动率曲面。Python 的 <code>matplotlib</code> 库提供了生成各种类型图表，包括 3D 图表。</p><p>本文将介绍如何使用 Python 中的 <code>matplotlib</code> 绘制 3D 曲面图，适用于不同领域的数据可视化需求。</p><h2 id=准备工作>准备工作</h2><p>安装 <code>matplotlib</code>，命令如下：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pip install matplotlib
</span></span></code></pre></td></tr></table></div></div><h2 id=绘制简单的-3d-曲面图>绘制简单的 3D 曲面图</h2><p><strong>引入所需库</strong>：为了绘制 3D 图形，我们需要使用 <code>matplotlib</code> 中的 <code>Axes3D</code> 和 <code>plot_surface</code> 方法。为了演示，还要引入 <code>numpy</code> 生成绘图数据。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> mpl_toolkits.mplot3d <span style=color:#f92672>import</span> Axes3D <span style=color:#75715e># 显式导入Axes3D，确保版本兼容</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>生成演示数据</strong>：3D 曲面图通常是由一个三维网格点组成的，其中 X 轴和 Y 轴分别代表行和列，Z 轴表示每个网格点的高度值。我们可以使用 <code>numpy</code> 来生成 X 和 Y 轴的网格，同时基于 X 和 Y 生成 Z 的值。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># 使用 numpy 生成 X 和 Y 的数据</span>
</span></span><span style=display:flex><span>x <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>linspace(<span style=color:#f92672>-</span><span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>100</span>)  <span style=color:#75715e># 生成从 -5 到 5 的 100 个等间距的点</span>
</span></span><span style=display:flex><span>y <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>linspace(<span style=color:#f92672>-</span><span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>100</span>)  <span style=color:#75715e># 同样为 Y 轴生成相同范围的点</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 生成二维网格</span>
</span></span><span style=display:flex><span>X, Y <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>meshgrid(x, y)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 定义 Z 轴数据，使用一个简单的函数 Z = f(X, Y)</span>
</span></span><span style=display:flex><span>Z <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>sin(np<span style=color:#f92672>.</span>sqrt(X<span style=color:#f92672>**</span><span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> Y<span style=color:#f92672>**</span><span style=color:#ae81ff>2</span>))
</span></span></code></pre></td></tr></table></div></div><p>在这个例子中，Z 轴数据是 <code>X</code> 和 <code>Y</code> 的平方和的平方根的正弦值，我将使用这个数据绘制曲面。</p><h4 id=绘制-3d-曲面图>绘制 3D 曲面图</h4><p>接下来使用 <code>matplotlib</code> 的 <code>plot_surface</code> 方法来绘制曲面。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># 创建 3D 图形</span>
</span></span><span style=display:flex><span>fig <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>figure()
</span></span><span style=display:flex><span>ax <span style=color:#f92672>=</span> fig<span style=color:#f92672>.</span>add_subplot(<span style=color:#ae81ff>111</span>, projection<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;3d&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 绘制 3D 曲面图</span>
</span></span><span style=display:flex><span>surf <span style=color:#f92672>=</span> ax<span style=color:#f92672>.</span>plot_surface(X, Y, Z, cmap<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;viridis&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 为图表添加颜色条</span>
</span></span><span style=display:flex><span>fig<span style=color:#f92672>.</span>colorbar(surf)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 设置坐标轴标签</span>
</span></span><span style=display:flex><span>ax<span style=color:#f92672>.</span>set_xlabel(<span style=color:#e6db74>&#39;X axis&#39;</span>)
</span></span><span style=display:flex><span>ax<span style=color:#f92672>.</span>set_ylabel(<span style=color:#e6db74>&#39;Y axis&#39;</span>)
</span></span><span style=display:flex><span>ax<span style=color:#f92672>.</span>set_zlabel(<span style=color:#e6db74>&#39;Z axis&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 显示图形</span>
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>show()
</span></span></code></pre></td></tr></table></div></div><p>运行此代码后，您将看到一个 3D 曲面图。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2024-09/2024-09-18-plot-3d-surface-02.png alt></p><p>了解了基本的 3D 曲面图绘制后，接下来开始探讨一些更高级的特性，如自定义颜色、设置透明度、添加线框等。</p><h2 id=添加线框和透明度>添加线框和透明度</h2><p>有时，在 3D 曲面图上添加线框或调整透明度可以帮助我们更好地理解数据结构。以下代码展示了如何添加这些特性。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># 创建 3D 图形</span>
</span></span><span style=display:flex><span>fig <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>figure()
</span></span><span style=display:flex><span>ax <span style=color:#f92672>=</span> fig<span style=color:#f92672>.</span>add_subplot(<span style=color:#ae81ff>111</span>, projection<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;3d&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 绘制带线框的 3D 曲面图，alpha 用于设置透明度</span>
</span></span><span style=display:flex><span>surf <span style=color:#f92672>=</span> ax<span style=color:#f92672>.</span>plot_surface(X, Y, Z, cmap<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;plasma&#39;</span>, edgecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;none&#39;</span>, alpha<span style=color:#f92672>=</span><span style=color:#ae81ff>0.8</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 添加网格线框（wireframe）</span>
</span></span><span style=display:flex><span>ax<span style=color:#f92672>.</span>plot_wireframe(X, Y, Z, color<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;black&#39;</span>, linewidth<span style=color:#f92672>=</span><span style=color:#ae81ff>0.5</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 为图表添加颜色条</span>
</span></span><span style=display:flex><span>fig<span style=color:#f92672>.</span>colorbar(surf)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 设置坐标轴标签</span>
</span></span><span style=display:flex><span>ax<span style=color:#f92672>.</span>set_xlabel(<span style=color:#e6db74>&#39;X axis&#39;</span>)
</span></span><span style=display:flex><span>ax<span style=color:#f92672>.</span>set_ylabel(<span style=color:#e6db74>&#39;Y axis&#39;</span>)
</span></span><span style=display:flex><span>ax<span style=color:#f92672>.</span>set_zlabel(<span style=color:#e6db74>&#39;Z axis&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 显示图形</span>
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>show()
</span></span></code></pre></td></tr></table></div></div><p>示例中，通过 <code>plot_wireframe()</code> 添加了网格线框，颜色映射使用了 <code>plasma</code>，通过 <code>alpha=0.8</code> 设置了透明度为 80%。</p><p>效果如下所示：</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2024-09/2024-09-18-plot-3d-surface-03.png alt></p><h2 id=控制图形视角>控制图形视角</h2><p><code>matplotlib</code> 提供了对 3D 图形视角的控制。可以通过 <code>ax.view_init()</code> 来设置视角（即观察图形的角度），<code>elev</code> 参数设置仰角，<code>azim</code> 参数设置方位角。</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># 设置 60 仰角和 45 方位角</span>
</span></span><span style=display:flex><span>ax<span style=color:#f92672>.</span>view_init(elev<span style=color:#f92672>=</span><span style=color:#ae81ff>60</span>, azim<span style=color:#f92672>=</span><span style=color:#ae81ff>45</span>)
</span></span></code></pre></td></tr></table></div></div><p>通过调整这些参数，您可以从不同的角度观察 3D 曲面图。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2024-09/2024-09-18-plot-3d-surface-04.png alt></p><h2 id=matplotlib-中绘制-3d-曲面图要点>Matplotlib 中绘制 3D 曲面图要点</h2><ol><li><strong>创建数据网格</strong>：使用 <code>numpy.meshgrid</code> 生成二维的 X 和 Y 网格，并根据需要定义 Z 轴的值。</li><li><strong>绘制曲面图</strong>：使用 <code>matplotlib</code> 的 <code>plot_surface()</code> 方法来绘制 3D 曲面，使用 <code>cmap</code> 来调整颜色映射。</li><li><strong>自定义图形</strong>：可以添加透明度、线框，或者通过自定义函数来生成 Z 轴数据。同时，还可以通过 <code>view_init()</code> 调整视角。</li><li><strong>可视化增强</strong>：为图形添加颜色条，调整坐标轴标签，使用不同的颜色映射函数来使数据更加清晰。</li></ol><h2 id=更多可用的颜色映射colormap>更多可用的颜色映射（colormap）</h2><p><code>matplotlib</code> 提供了丰富的颜色映射方案，您可以使用 <code>cmap</code> 参数来指定：</p><ul><li><code>'viridis'</code>：默认色彩映射，适用于一般数据</li><li><code>'plasma'</code>：对比度较高的配色方案</li><li><code>'inferno'</code>：适合视觉对比</li><li><code>'coolwarm'</code>：常用于正负值数据</li></ul><p>例如：</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>surf <span style=color:#f92672>=</span> ax<span style=color:#f92672>.</span>plot_surface(X, Y, Z, cmap<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;coolwarm&#39;</span>)
</span></span></code></pre></td></tr></table></div></div><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2024-09/2024-09-18-plot-3d-surface-05.png alt></p><h2 id=总结><strong>总结</strong></h2><p>使用 <code>matplotlib</code> 绘制 3D 曲面图帮助我们可视化复杂的三维数据。通过掌握基础的网格生成和绘图函数，以及对图形的进一步自定义和优化，就可轻松创建适合您需求的 3D 可视化图表。</p><p>本文介绍了从基础的 3D 曲面图绘制方法，希望对你有所帮助。</p><div>本文来源于 <a href=https://www.poloxue.com>POLOXUE's BLOG</a>，地址： <a href=https://www.poloxue.com/posts/2024-09-18-plot-3d-using-matplotlib-using-python/>如何使用 Python Matplotlib 绘制 3D 曲面图</a><hr class=footer-separator><div class=tags></div><div class=back><a href=https://www.poloxue.com/><span aria-hidden=true>← Back</span></a></div><div class=back></div></div><div class=post>欢迎关注我的公众号：<img style=width:85% src=https://cdn.jsdelivr.net/gh/poloxue/images@main/wechat.png>
欢迎加入我的知识星球：<img style=width:85% src=https://cdn.jsdelivr.net/gh/poloxue/images@coupon/20251210-20251231-v1.png><div class=utterances></div><script src=https://utteranc.es/client.js repo=poloxue/blog issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></div><div class="footer wrapper"><nav class=nav><div>2024 Polo Xue All rights reserved</div></nav></div><script>feather.replace()</script></body></html>