<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="数据源参考#
AbstractDataBase#
数据行（Lines）:

close
low
high
open
volume
openinterest
datetime

参数（Params）:

dataname (None)
name ()
compression (1)
timeframe (5)
fromdate (None)
todate (None)
sessionstart (None)
sessionend (None)
filters ([])
tz (None)
tzinput (None)
qcheck (0.0)
calendar (None)


BacktraderCSVData#
解析用于测试的自定义 CSV 数据。
特定参数：

dataname: 要解析的文件名或类文件对象

数据行：

close
low
high
open
volume
openinterest
datetime

参数：

dataname (None)
name ()
compression (1)
timeframe (5)
fromdate (None)
todate (None)
sessionstart (None)
sessionend (None)
filters ([])
tz (None)
tzinput (None)
qcheck (0.0)
calendar (None)
headers (True)
separator (,)


CSVDataBase#
用于实现 CSV 数据源的基类。"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://www.poloxue.com/backtrader/docs/06-datafeed/12-datafeed-reference/"><meta property="og:site_name" content="Backtrader 中文"><meta property="og:title" content="数据源参考"><meta property="og:description" content="数据源参考# AbstractDataBase# 数据行（Lines）:
close low high open volume openinterest datetime 参数（Params）:
dataname (None) name () compression (1) timeframe (5) fromdate (None) todate (None) sessionstart (None) sessionend (None) filters ([]) tz (None) tzinput (None) qcheck (0.0) calendar (None) BacktraderCSVData# 解析用于测试的自定义 CSV 数据。
特定参数：
dataname: 要解析的文件名或类文件对象 数据行：
close low high open volume openinterest datetime 参数：
dataname (None) name () compression (1) timeframe (5) fromdate (None) todate (None) sessionstart (None) sessionend (None) filters ([]) tz (None) tzinput (None) qcheck (0.0) calendar (None) headers (True) separator (,) CSVDataBase# 用于实现 CSV 数据源的基类。"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2024-08-04T19:34:20+08:00"><title>数据源参考 | Backtrader 中文</title><link rel=icon href=/backtrader/favicon.png><link rel=manifest href=/backtrader/manifest.json><link rel=canonical href=https://www.poloxue.com/backtrader/docs/06-datafeed/12-datafeed-reference/><link rel=stylesheet href=/backtrader/book.min.f079ea268834b2e0459e63011be648e8a3cc0e4819a71206873f891528fbfdf6.css integrity="sha256-8HnqJog0suBFnmMBG+ZI6KPMDkgZpxIGhz+JFSj7/fY=" crossorigin=anonymous><script defer src=/backtrader/fuse.min.js></script><script defer src=/backtrader/en.search.min.31a01c565a7e4bceaf85ecf29f0e4793b8fab6bc6b5d7f3b7d67dcfbf85c01fd.js integrity="sha256-MaAcVlp+S86vhezynw5Hk7j6trxrXX87fWfc+/hcAf0=" crossorigin=anonymous></script><script defer src=/backtrader/sw.min.6e7f3387f593f3527ac4d321c3f23a8d1e0c070c219a9f97642913dc39d4b5ff.js integrity="sha256-bn8zh/WT81J6xNMhw/I6jR4MBwwhmp+XZCkT3DnUtf8=" crossorigin=anonymous></script><script data-goatcounter=https://poloxue.goatcounter.com/count async src=//gc.zgo.at/count.js></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7019080091542951" crossorigin=anonymous></script></head><body dir=ltr class="book-kind-page book-type-docs"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/backtrader/><img src=/backtrader/logo.png alt=Logo><span>Backtrader 中文</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/backtrader/docs/01-introduction/>介绍</a><ul></ul></li><li><a href=/backtrader/docs/02-installation/>安装指南</a><ul></ul></li><li><input type=checkbox id=section-ef1b0f3b48f1accf5a8e12976586a132 class=toggle>
<label for=section-ef1b0f3b48f1accf5a8e12976586a132 class=flex><a href=/backtrader/docs/03-quickstart/>快速开始</a>
<img src=/backtrader/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/backtrader/docs/03-quickstart/01-setup/>环境设置</a></li><li><a href=/backtrader/docs/03-quickstart/02-cash/>账户资金</a></li><li><a href=/backtrader/docs/03-quickstart/03-datafeed/>配置数据</a></li><li><a href=/backtrader/docs/03-quickstart/04-first-strategy/>第一个策略</a></li><li><a href=/backtrader/docs/03-quickstart/05-strategy-logic/>开始交易</a></li><li><a href=/backtrader/docs/03-quickstart/06-sell/>卖出操作</a></li><li><a href=/backtrader/docs/03-quickstart/07-commission/>交易监控</a></li><li><a href=/backtrader/docs/03-quickstart/08-parameters/>参数定义</a></li><li><a href=/backtrader/docs/03-quickstart/09-indicators/>技术指标</a></li><li><a href=/backtrader/docs/03-quickstart/10-plotting/>可视化</a></li><li><a href=/backtrader/docs/03-quickstart/11-optimization/>策略优化</a></li></ul></li><li><input type=checkbox id=section-8b6cc0ccf66e33ea233e54e3e1c71bd0 class=toggle>
<label for=section-8b6cc0ccf66e33ea233e54e3e1c71bd0 class=flex><a href=/backtrader/docs/04-concepts/>核心概念</a>
<img src=/backtrader/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/backtrader/docs/04-concepts/01-platform-concepts/>平台概念</a><ul><li><a href=/backtrader/docs/04-concepts/01-platform-concepts/01-datafeed/>数据源 DataFeed</a></li><li><a href=/backtrader/docs/04-concepts/01-platform-concepts/02-params/>策略参数</a></li><li><a href=/backtrader/docs/04-concepts/01-platform-concepts/03-line/>线 Line 类</a></li><li><a href=/backtrader/docs/04-concepts/01-platform-concepts/04-index/>索引和切片</a></li><li><a href=/backtrader/docs/04-concepts/01-platform-concepts/05-operator/>运算符</a></li></ul></li><li><a href=/backtrader/docs/04-concepts/02-operate-the-platform/>平台操作</a><ul><li><a href=/backtrader/docs/04-concepts/02-operate-the-platform/01-iteration/>Line 迭代器</a></li><li><a href=/backtrader/docs/04-concepts/02-operate-the-platform/02-startup/>启动运行</a></li></ul></li></ul></li><li><input type=checkbox id=section-1d25046da157a996ab4b83cedd86be47 class=toggle>
<label for=section-1d25046da157a996ab4b83cedd86be47 class=flex><a href=/backtrader/docs/05-cerebro/>Cerebro</a>
<img src=/backtrader/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/backtrader/docs/05-cerebro/01-cerebro/>Cerebro</a></li><li><a href=/backtrader/docs/05-cerebro/02-reference/>参数说明</a></li><li><a href=/backtrader/docs/05-cerebro/03-saving-memory/>节省内存</a></li><li><a href=/backtrader/docs/05-cerebro/04-optimization-improvements/>优化改进</a></li><li><a href=/backtrader/docs/05-cerebro/05-exceptions/>异常 Exceptions</a></li><li><a href=/backtrader/docs/05-cerebro/06-logging-writer/>日志 Logging - Writter</a></li></ul></li><li><input type=checkbox id=section-b39bf4495a5a92ed51fcc77b0cf4545f class=toggle checked>
<label for=section-b39bf4495a5a92ed51fcc77b0cf4545f class=flex><a role=button>DataFeed</a>
<img src=/backtrader/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/backtrader/docs/06-datafeed/01-datafeeds/>Data Feeds</a></li><li><a href=/backtrader/docs/06-datafeed/02-datafeed-extending/>扩展数据源</a></li><li><a href=/backtrader/docs/06-datafeed/03-datafeed-development-csv/>开发 CSV 数据源</a></li><li><a href=/backtrader/docs/06-datafeed/04-datafeed-development-general/>开发 Binary 数据源</a></li><li><a href=/backtrader/docs/06-datafeed/05-datafeed-multiple-timeframes/>多时间框架</a></li><li><a href=/backtrader/docs/06-datafeed/06-datafeed-resampling/>重采样</a></li><li><a href=/backtrader/docs/06-datafeed/07-datafeed-replay/>数据回放</a></li><li><a href=/backtrader/docs/06-datafeed/08-datafeed-rollover/>数据滚动</a></li><li><a>过滤器 Filters</a><ul><li><a href=/backtrader/docs/06-datafeed/09-datafeed-filters/01-datafeed-filters/>过滤器 Filters</a></li><li><a href=/backtrader/docs/06-datafeed/09-datafeed-filters/02-datafeed-filters-referrence/>参考文档</a></li></ul></li><li><a href=/backtrader/docs/06-datafeed/10-datafeed-yahoo/>Yahoo 数据源说明</a></li><li><a href=/backtrader/docs/06-datafeed/11-datafeed-pandas/>Pandas 数据源示例</a></li><li><a href=/backtrader/docs/06-datafeed/12-datafeed-reference/ class=active>数据源参考</a></li></ul></li><li><input type=checkbox id=section-e3fe58eaef3418b317102036dce25013 class=toggle>
<label for=section-e3fe58eaef3418b317102036dce25013 class=flex><a role=button>Strategy</a>
<img src=/backtrader/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/backtrader/docs/07-strategy/01-strategy/>Strategy</a></li><li><a href=/backtrader/docs/07-strategy/02-strategy-with-signals/>信号策略</a></li><li><a href=/backtrader/docs/07-strategy/03-strategy-references/>策略参考</a></li></ul></li><li><input type=checkbox id=section-cad109a715fc3bbeef472f4f0cad4358 class=toggle>
<label for=section-cad109a715fc3bbeef472f4f0cad4358 class=flex><a role=button>Indicator</a>
<img src=/backtrader/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/backtrader/docs/08-indicators/01-using-indicators/>使用指标</a></li><li><a href=/backtrader/docs/08-indicators/02-indicators-development/>指标开发</a></li><li><a href=/backtrader/docs/08-indicators/03-timeframe-mixing/>周期混合</a></li><li><a href=/backtrader/docs/08-indicators/04-talib/>TA-Lib</a></li></ul></li><li><input type=checkbox id=section-56aaa6caa9d538f335a48813aa684f48 class=toggle>
<label for=section-56aaa6caa9d538f335a48813aa684f48 class=flex><a role=button>Order</a>
<img src=/backtrader/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/backtrader/docs/09-orders/01-general/>订单</a></li><li><a href=/backtrader/docs/09-orders/02-creation-execution/>创建/执行</a></li><li><a href=/backtrader/docs/09-orders/03-target-orders/>目标订单</a></li><li><a href=/backtrader/docs/09-orders/04-oco-orders/>OCO 订单</a></li><li><a href=/backtrader/docs/09-orders/05-bracket-orders/>Bracket Orders</a></li><li><a href=/backtrader/docs/09-orders/06-future-spot-compensation/>期货和现货补偿</a></li><li><a href=/backtrader/docs/09-orders/07-stop-trails/>跟踪止损（限价）</a></li></ul></li><li><input type=checkbox id=section-44410e36d2de519599cb0e5e09a3b2ed class=toggle>
<label for=section-44410e36d2de519599cb0e5e09a3b2ed class=flex><a role=button>Broker</a>
<img src=/backtrader/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/backtrader/docs/10-broker/01-broker/>Broker</a></li><li><a href=/backtrader/docs/10-broker/02-slippage/>滑点</a></li><li><a href=/backtrader/docs/10-broker/03-cheat-on-open/>开盘作弊</a></li><li><a href=/backtrader/docs/10-broker/04-volume-filling-filler/>填充器</a></li><li><a href=/backtrader/docs/10-broker/05-position/>Position</a></li><li><a href=/backtrader/docs/10-broker/06-trade/>Trade</a></li></ul></li><li><input type=checkbox id=section-ae52187dba190ff9aaf14da3856b7cd3 class=toggle>
<label for=section-ae52187dba190ff9aaf14da3856b7cd3 class=flex><a role=button>Commission</a>
<img src=/backtrader/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/backtrader/docs/11-commission-schemes/01-commission-schemes/>佣金</a></li><li><a href=/backtrader/docs/11-commission-schemes/02-commission-schemes-extending/>扩展</a></li><li><a href=/backtrader/docs/11-commission-schemes/03-customization/>自定义佣金</a></li><li><a href=/backtrader/docs/11-commission-schemes/04-credit-interests/>利息</a></li></ul></li><li><input type=checkbox id=section-c06d50c5f364fda6157cd2e0322dd59c class=toggle>
<label for=section-c06d50c5f364fda6157cd2e0322dd59c class=flex><a role=button>Analyzer</a>
<img src=/backtrader/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/backtrader/docs/12-analyzers/01-analyzers/>Analyzers</a></li><li><a href=/backtrader/docs/12-analyzers/02-pyfolio/>Pyfolio</a></li><li><a href=/backtrader/docs/12-analyzers/03-pyfolio-integration/>Pyfolio 集成</a></li><li><a href=/backtrader/docs/12-analyzers/04-reference/>Reference</a></li></ul></li><li><input type=checkbox id=section-c8768af388a3e3ade998ccab1da7af20 class=toggle>
<label for=section-c8768af388a3e3ade998ccab1da7af20 class=flex><a role=button>Observer</a>
<img src=/backtrader/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/backtrader/docs/13-observers/01-statistics/>统计</a></li><li><a href=/backtrader/docs/13-observers/02-benchmarking/>基准测试</a></li><li><a href=/backtrader/docs/13-observers/03-reference/>参考</a></li></ul></li><li><input type=checkbox id=section-71aa242f05842258d04bb7390059ae0c class=toggle>
<label for=section-71aa242f05842258d04bb7390059ae0c class=flex><a role=button>Sizer</a>
<img src=/backtrader/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/backtrader/docs/14-sizers/01-sizers/>sizers</a></li><li><a href=/backtrader/docs/14-sizers/02-reference/>参考</a></li></ul></li><li><input type=checkbox id=section-5787874ab2a916d11389152b4141fa73 class=toggle>
<label for=section-5787874ab2a916d11389152b4141fa73 class=flex><a href=/backtrader/docs/15-livetrading/>实盘</a>
<img src=/backtrader/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/backtrader/docs/15-livetrading/01-interactive-brokers/>Interactive Brokers</a></li><li><a href=/backtrader/docs/15-livetrading/02-qanda-v1-0/>Qanda</a></li><li><a href=/backtrader/docs/15-livetrading/03-visual-chart/>Visual Chart</a></li></ul></li><li><input type=checkbox id=section-3dcf1c9f08afe4d22a0a825dccbf62c9 class=toggle>
<label for=section-3dcf1c9f08afe4d22a0a825dccbf62c9 class=flex><a role=button>绘图</a>
<img src=/backtrader/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/backtrader/docs/16-plotting/01-plotting/>Plotting</a></li><li><a href=/backtrader/docs/16-plotting/02-ploting-date-ranges/>绘制日期范围</a></li><li><a href=/backtrader/docs/16-plotting/03-plotting-same-axis/>同轴绘图</a></li></ul></li><li><input type=checkbox id=section-b6e31488b3e951ce956583dfc7ccd8a2 class=toggle>
<label for=section-b6e31488b3e951ce956583dfc7ccd8a2 class=flex><a role=button>日期时间</a>
<img src=/backtrader/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/backtrader/docs/17-datetime/01-management/>管理</a></li><li><a href=/backtrader/docs/17-datetime/02-timer/>定时器</a></li><li><a href=/backtrader/docs/17-datetime/03-trading-calendars/>交易日历</a></li></ul></li><li><a href=/backtrader/docs/18-automated-running/>自动运行</a><ul></ul></li><li><input type=checkbox id=section-1c57bab4ff24bdea61d636c257658085 class=toggle>
<label for=section-1c57bab4ff24bdea61d636c257658085 class=flex><a role=button>官方文章</a>
<img src=/backtrader/icons/chevron-right.svg class=book-icon></label><ul><li><a href=/backtrader/docs/19-articles/01-out-of-memory/>超大内存</a></li><li><a href=/backtrader/docs/19-articles/02-cross-backtesting-pitfalls/>跨平台回测的陷进</a></li><li><a href=/backtrader/docs/19-articles/03-fractional-sizes/>加密货币中的分位仓位</a></li><li><a href=/backtrader/docs/19-articles/04-beating-the-random-entry/>打败随机入场</a></li><li><a href=/backtrader/docs/19-articles/05-rebalancing-conserative/>保守型公式的再平衡</a></li><li><a href=/backtrader/docs/19-articles/06-mfi-generic/>MFI 通用版</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/backtrader/icons/menu.svg class=book-icon alt=Menu></label><h3>数据源参考</h3><label for=toc-control><img src=/backtrader/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#数据源参考>数据源参考</a></li></ul></li><li><a href=#数据行><strong>数据行：</strong></a><ul><li></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h3 id=数据源参考>数据源参考<a class=anchor href=#%e6%95%b0%e6%8d%ae%e6%ba%90%e5%8f%82%e8%80%83>#</a></h3><h4 id=abstractdatabase>AbstractDataBase<a class=anchor href=#abstractdatabase>#</a></h4><p><strong>数据行（Lines）:</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数（Params）:</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li></ul><hr><h4 id=backtradercsvdata>BacktraderCSVData<a class=anchor href=#backtradercsvdata>#</a></h4><p>解析用于测试的自定义 CSV 数据。</p><p><strong>特定参数：</strong></p><ul><li>dataname: 要解析的文件名或类文件对象</li></ul><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>headers (True)</li><li>separator (,)</li></ul><hr><h4 id=csvdatabase>CSVDataBase<a class=anchor href=#csvdatabase>#</a></h4><p>用于实现 CSV 数据源的基类。</p><p>该类负责打开文件、读取行并将其标记化。子类只需重写 <code>_loadline(tokens)</code> 方法。</p><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>headers (True)</li><li>separator (,)</li></ul><hr><h4 id=chainer>Chainer<a class=anchor href=#chainer>#</a></h4><p>用于链式连接数据的类。</p><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li></ul><hr><h4 id=dataclone>DataClone<a class=anchor href=#dataclone>#</a></h4><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li></ul><hr><h4 id=datafiller>DataFiller<a class=anchor href=#datafiller>#</a></h4><p>该类将使用基础数据源的信息填充数据中的空隙。</p><p><strong>参数：</strong></p><ul><li><code>fill_price</code> (def: None): 如果为 None，将使用上一条数据的收盘价；否则使用传递的值（例如 ‘NaN’）</li><li><code>fill_vol</code> (def: NaN): 用于填充缺失数据的交易量</li><li><code>fill_oi</code> (def: NaN): 用于填充缺失数据的未平仓合约量</li></ul><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>fill_price (None)</li><li>fill_vol (nan)</li><li>fill_oi (nan)</li></ul><hr><h4 id=datafilter>DataFilter<a class=anchor href=#datafilter>#</a></h4><p>此类过滤给定数据源中的数据行。除了 DataBase 的标准参数外，它还接受 <code>funcfilter</code> 参数，该参数可以是任何可调用对象。</p><p><strong>逻辑：</strong></p><ul><li><code>funcfilter</code> 将与基础数据源一起调用</li><li>它可以是任何可调用对象</li><li>返回值 True：当前数据源的数据行值将被使用</li><li>返回值 False：当前数据源的数据行值将被丢弃</li></ul><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>funcfilter (None)</li></ul><hr><h4 id=genericcsvdata>GenericCSVData<a class=anchor href=#genericcsvdata>#</a></h4><p>根据定义的参数解析 CSV 文件。</p><p><strong>特定参数（或特定含义）：</strong></p><ul><li>dataname: 要解析的文件名或类文件对象</li><li><code>lines</code> 参数（datetime, open, high …）取数值</li><li>值为 -1 表示 CSV 源中不存在该字段</li><li>如果 time 存在（参数 time >=0），源包含分开的日期和时间字段，将合并</li></ul><p><strong>参数：</strong></p><ul><li>nullvalue: 如果缺少值（CSV 字段为空），将使用的值</li><li>dtformat: 用于解析 datetime CSV 字段的格式。请参阅 python strptime/strftime 文档以了解格式。</li><li>如果指定了数值，它将按以下方式解释：<ul><li>1: 值为代表自 1970 年 1 月 1 日以来的秒数的 Unix 时间戳（int 型）</li><li>2: 值为代表自 1970 年 1 月 1 日以来的秒数的 Unix 时间戳（float 型）</li></ul></li><li>如果传递了一个可调用对象，它将接受一个字符串并返回一个 datetime.datetime 实例</li><li>tmformat: 用于解析 time CSV 字段的格式（如果存在）（time 字段默认不存在）</li></ul><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>headers (True)</li><li>separator (,)</li><li>nullvalue (nan)</li><li>dtformat (%Y-%m-%d %H:%M:%S)</li><li>tmformat (%H:%M:%S)</li><li>datetime (0)</li><li>time (-1)</li><li>open (1)</li><li>high (2)</li><li>low (3)</li><li>close (4)</li><li>volume (5)</li><li>openinterest (6)</li></ul><hr><h4 id=ibdata>IBData<a class=anchor href=#ibdata>#</a></h4><p><strong>交互式经纪商数据源（Interactive Brokers Data Feed）</strong></p><p>支持参数 <code>dataname</code> 中的合约规格：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>TICKER # 股票类型和 SMART 交易所
</span></span><span style=display:flex><span>TICKER-STK # 股票和 SMART 交易所
</span></span><span style=display:flex><span>TICKER-STK-EXCHANGE # 股票
</span></span><span style=display:flex><span>TICKER-STK-EXCHANGE-CURRENCY # 股票
</span></span><span style=display:flex><span>TICKER-CFD # CFD 和 SMART 交易所
</span></span><span style=display:flex><span>TICKER-CFD-EXCHANGE # CFD
</span></span><span style=display:flex><span>TICKER-CDF-EXCHANGE-CURRENCY # 股票
</span></span><span style=display:flex><span>TICKER-IND-EXCHANGE # 指数
</span></span><span style=display:flex><span>TICKER-IND-EXCHANGE-CURRENCY # 指数
</span></span><span style=display:flex><span>TICKER-YYYYMM-EXCHANGE # 期货
</span></span><span style=display:flex><span>TICKER-YYYYMM-EXCHANGE-CURRENCY # 期货
</span></span><span style=display:flex><span>TICKER-YYYYMM-EXCHANGE-CURRENCY-MULT # 期货
</span></span><span style=display:flex><span>TICKER-FUT-EXCHANGE-CURRENCY-YYYYMM-MULT # 期货
</span></span><span style=display:flex><span>TICKER-YYYYMM-EXCHANGE-CURRENCY-STRIKE-RIGHT # 期权
</span></span><span style=display:flex><span>TICKER-YYYYMM-EXCHANGE-CURRENCY-STRIKE-RIGHT-MULT # 期权
</span></span><span style=display:flex><span>TICKER-FOP-EXCHANGE-CURRENCY-YYYYMM-STRIKE-RIGHT # 期权
</span></span><span style=display:flex><span>TICKER-FOP-EXCHANGE-CURRENCY-YYYYMM-STRIKE-RIGHT-MULT # 期权
</span></span><span style=display:flex><span>CUR1.CUR2-CASH-IDEALPRO # 外汇
</span></span><span style=display:flex><span>TICKER-YYYYMMDD-EXCHANGE-CURRENCY-STRIKE-RIGHT # 期权
</span></span><span style=display:flex><span>TICKER-YYYYMMDD-EXCHANGE-CURRENCY-STRIKE-RIGHT-MULT # 期权
</span></span><span style=display:flex><span>TICKER-OPT-EXCHANGE-CURRENCY-YYYYMMDD-STRIKE-RIGHT # 期权
</span></span><span style=display:flex><span>TICKER-OPT-EXCHANGE-CURRENCY-YYYYMMDD-STRIKE-RIGHT-MULT # 期权</span></span></code></pre></div><p><strong>参数：</strong></p><ul><li>sectype (默认: STK)</li><li>exchange (默认: SMART)</li><li>currency (默认: &lsquo;&rsquo;)</li><li>historical (默认: False)</li><li>what (默认: None)</li><li>rtbar (默认: False)</li><li>qcheck (默认: 0.5)</li><li>backfill_start (默认: True)</li><li>backfill (默认: True)</li><li></li></ul><p>backfill_from (默认: None)</p><ul><li>latethrough (默认: False)</li><li>tradename (默认: None)</li></ul><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.5)</li><li>calendar (None)</li><li>sectype (STK)</li><li>exchange (SMART)</li><li>currency ()</li><li>rtbar (False)</li><li>historical (False)</li><li>what (None)</li><li>useRTH (False)</li><li>backfill_start (True)</li><li>backfill (True)</li><li>backfill_from (None)</li><li>latethrough (False)</li><li>tradename (None)</li></ul><hr><h4 id=influxdb>InfluxDB<a class=anchor href=#influxdb>#</a></h4><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>host (127.0.0.1)</li><li>port (8086)</li><li>username (None)</li><li>password (None)</li><li>database (None)</li><li>startdate (None)</li><li>high (high_p)</li><li>low (low_p)</li><li>open (open_p)</li><li>close (close_p)</li><li>volume (volume)</li><li>ointerest (oi)</li></ul><hr><h4 id=mt4csvdata>MT4CSVData<a class=anchor href=#mt4csvdata>#</a></h4><p>解析 Metatrader4 历史中心导出的 CSV 文件。</p><p><strong>特定参数（或特定含义）：</strong></p><ul><li>dataname: 要解析的文件名或类文件对象</li><li>使用 GenericCSVData 并简单修改参数</li></ul><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>headers (True)</li><li>separator (,)</li><li>nullvalue (nan)</li><li>dtformat (%Y.%m.%d)</li><li>tmformat (%H:%M)</li><li>datetime (0)</li><li>time (1)</li><li>open (2)</li><li>high (3)</li><li>low (4)</li><li>close (5)</li><li>volume (6)</li><li>openinterest (-1)</li></ul><hr><h4 id=oandadata>OandaData<a class=anchor href=#oandadata>#</a></h4><p><strong>参数：</strong></p><ul><li>qcheck (默认: 0.5)</li><li>historical (默认: False)</li><li>backfill_start (默认: True)</li><li>backfill (默认: True)</li><li>backfill_from (默认: None)</li><li>bidask (默认: True)</li><li>useask (默认: False)</li><li>includeFirst (默认: True)</li><li>reconnect (默认: True)</li><li>reconnections (默认: -1)</li><li>reconntimeout (默认: 5.0)</li></ul><p>支持的时间框架和压缩映射符合 OANDA API 开发者指南中的定义：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Seconds, <span style=color:#ae81ff>5</span>): <span style=color:#e6db74>&#39;S5&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Seconds, <span style=color:#ae81ff>10</span>): <span style=color:#e6db74>&#39;S10&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Seconds, <span style=color:#ae81ff>15</span>): <span style=color:#e6db74>&#39;S15&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Seconds, <span style=color:#ae81ff>30</span>): <span style=color:#e6db74>&#39;S30&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Minutes, <span style=color:#ae81ff>1</span>): <span style=color:#e6db74>&#39;M1&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Minutes, <span style=color:#ae81ff>2</span>): <span style=color:#e6db74>&#39;M3&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Minutes, <span style=color:#ae81ff>3</span>): <span style=color:#e6db74>&#39;M3&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Minutes, <span style=color:#ae81ff>4</span>): <span style=color:#e6db74>&#39;M4&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Minutes, <span style=color:#ae81ff>5</span>): <span style=color:#e6db74>&#39;M5&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Minutes, <span style=color:#ae81ff>10</span>): <span style=color:#e6db74>&#39;M10&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Minutes, <span style=color:#ae81ff>15</span>): <span style=color:#e6db74>&#39;M15&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Minutes, <span style=color:#ae81ff>30</span>): <span style=color:#e6db74>&#39;M30&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Minutes, <span style=color:#ae81ff>60</span>): <span style=color:#e6db74>&#39;H1&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Minutes, <span style=color:#ae81ff>120</span>): <span style=color:#e6db74>&#39;H2&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Minutes, <span style=color:#ae81ff>180</span>): <span style=color:#e6db74>&#39;H3&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Minutes, <span style=color:#ae81ff>240</span>): <span style=color:#e6db74>&#39;H4&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Minutes, <span style=color:#ae81ff>360</span>): <span style=color:#e6db74>&#39;H6&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Minutes, <span style=color:#ae81ff>480</span>): <span style=color:#e6db74>&#39;H8&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Days, <span style=color:#ae81ff>1</span>): <span style=color:#e6db74>&#39;D&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Weeks, <span style=color:#ae81ff>1</span>): <span style=color:#e6db74>&#39;W&#39;</span>,
</span></span><span style=display:flex><span>(TimeFrame<span style=color:#f92672>.</span>Months, <span style=color:#ae81ff>1</span>): <span style=color:#e6db74>&#39;M&#39;</span>,</span></span></code></pre></div><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.5)</li><li>calendar (None)</li><li>historical (False)</li><li>backfill_start (True)</li><li>backfill (True)</li><li>backfill_from (None)</li><li>bidask (True)</li><li>useask (False)</li><li>includeFirst (True)</li><li>reconnect (True)</li><li>reconnections (-1)</li><li>reconntimeout (5.0)</li></ul><hr><h4 id=pandasdata>PandasData<a class=anchor href=#pandasdata>#</a></h4><p>使用 Pandas DataFrame 作为数据源。</p><p><strong>参数：</strong></p><ul><li>nocase (默认: True) 列名匹配不区分大小写</li></ul><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>nocase (True)</li><li>datetime (None)</li><li>open (-1)</li><li>high (-1)</li><li>low (-1)</li><li>close (-1)</li><li>volume (-1)</li><li>openinterest (-1)</li></ul><hr><h4 id=pandasdirectdata>PandasDirectData<a class=anchor href=#pandasdirectdata>#</a></h4><p>使用 Pandas DataFrame 作为数据源，直接迭代由 <code>itertuples</code> 返回的元组。</p><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>datetime (0)</li><li>open (1)</li><li>high (2)</li><li>low (3)</li><li>close (4)</li><li>volume (5)</li><li>openinterest (6)</li></ul><hr><h4 id=quandl>Quandl<a class=anchor href=#quandl>#</a></h4><p>直接从 Quandl 服务器下载数据。</p><p><strong>特定参数（或特定含义）：</strong></p><ul><li>dataname: 要下载的代码（例如 &lsquo;YHOO&rsquo;）</li><li>baseurl: 服务器 URL</li><li>proxies: 指示下载时使用的代理的字典，例如 {‘http’: ‘http://myproxy.com’}</li><li>buffered: 如果为 True，整个 socket 连接将在解析前缓存在本地</li><li>reverse: Quandl 返回的值按降序排列（最新的在前）。如果为 True，请求将告诉 Quandl 以升序（最旧的在前）格式返回</li><li>adjclose: 是否使用股息/拆股调整后的收盘价，并根据它调整所有值</li><li>apikey: 如果需要，使用的 API 密钥</li><li>dataset: 标识要查询的数据集的字符串。默认为 WIKI</li></ul><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>headers (True)</li><li>separator (,)</li><li>reverse (True)</li><li>adjclose (True)</li><li>round (False)</li><li>decimals (2)</li><li>baseurl (<a href=https://www.quandl.com/api/v3/datasets>https://www.quandl.com/api/v3/datasets</a>)</li><li>proxies ({})</li><li>buffered (True)</li><li>apikey (None)</li><li>dataset (WIKI)</li></ul><hr><h4 id=quandlcsv>QuandlCSV<a class=anchor href=#quandlcsv>#</a></h4><p>解析预先下载的 Quandl CSV 数据源（或如果符合 Quandl 格式，本地生成的 CSV 文件）。</p><p><strong>特定参数：</strong></p><ul><li>dataname: 要解析的文件名或类文件对象</li><li>reverse (默认: False): 假设本地存储的文件在下载过程中已被反向</li><li>adjclose (默认: True): 是否使用股息/拆股调整后的收盘价，并根据它调整所有值</li><li>round (默认: False): 是否在调整收盘价后将值四舍五入到特定的小数位数</li><li>decimals (默认: 2): 要四舍五入的小数位数</li></ul><h2 id=数据行><strong>数据行：</strong><a class=anchor href=#%e6%95%b0%e6%8d%ae%e8%a1%8c>#</a></h2><p>close</p><ul><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>headers (True)</li><li>separator (,)</li><li>reverse (False)</li><li>adjclose (True)</li><li>round (False)</li><li>decimals (2)</li></ul><hr><h4 id=rollover>RollOver<a class=anchor href=#rollover>#</a></h4><p>在满足条件时切换到下一个期货合约。</p><p><strong>参数：</strong></p><ul><li>checkdate (默认: None): 必须是具有以下签名的可调用对象：</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>checkdate(dt, d):</span></span></code></pre></div><ul><li>dt: datetime.datetime 对象</li><li>d: 当前活动期货的数据源</li></ul><p><strong>返回值：</strong></p><ul><li><p>True: 只要返回 True，就可以切换到下一个期货</p></li><li><p>False: 不能进行切换</p></li><li><p>checkcondition (默认: None): 注意：只有当 checkdate 返回 True 时才会调用此方法。如果为 None，将在内部评估为 True（执行切换）。否则，必须是具有以下签名的可调用对象：</p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>checkcondition(d0, d1):</span></span></code></pre></div><ul><li>d0: 当前活动期货的数据源</li><li>d1: 下一个到期的数据源</li></ul><p><strong>返回值：</strong></p><ul><li>True: 切换到下一个期货</li><li>False: 不能进行切换</li></ul><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>checkdate (None)</li><li>checkcondition (None)</li></ul><hr><h4 id=sierrachartcsvdata>SierraChartCSVData<a class=anchor href=#sierrachartcsvdata>#</a></h4><p>解析 SierraChart 导出的 CSV 文件。</p><p><strong>特定参数（或特定含义）：</strong></p><ul><li>dataname: 要解析的文件名或类文件对象</li></ul><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>headers (True)</li><li>separator (,)</li><li>nullvalue (nan)</li><li>dtformat (%Y/%m/%d)</li><li>tmformat (%H:%M:%S)</li><li>datetime (0)</li><li>time (-1)</li><li>open (1)</li><li>high (2)</li><li>low (3)</li><li>close (4)</li><li>volume (5)</li><li>openinterest (6)</li></ul><hr><h4 id=vcdata>VCData<a class=anchor href=#vcdata>#</a></h4><p>VisualChart 数据源。</p><p><strong>参数：</strong></p><ul><li>qcheck (默认: 0.5): 唤醒的默认超时，以让重新采样器/重放器知道当前条形图可以检查是否应交付</li><li>historical (默认: False): 如果未提供 <code>todate</code> 参数（在基类中定义），如果设置为 True，将强制仅进行历史下载。如果提供了 <code>todate</code> 参数，则效果相同。</li><li>milliseconds (默认: True): Visual Chart 构建的条形图具有以下方面：HH:MM:59.999000。如果此参数为 True，将添加一毫秒以使其看起来像：HH:MM + 1:00.000000</li><li>tradename (默认: None): 连续期货不能交易，但非常适合数据跟踪。如果提供此参数，它将是当前期货的名称，即交易资产。例如：</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>001ES -&gt; ES-Mini 连续期货作为 dataname 提供
</span></span><span style=display:flex><span>ESU16 -&gt; ES-Mini 2016-09。如果在 tradename 中提供，它将是交易资产。</span></span></code></pre></div><ul><li>usetimezones (默认: True): 对于大多数市场，Visual Chart 提供的时区信息允许将日期时间转换为市场时间（backtrader 选择的表示方法）。某些市场（096）需要特殊的内部覆盖和时区支持以显示为用户期望的市场时间。如果设置为 True，将尝试使用 <code>pytz</code> 进行时区转换（默认）。禁用它将删除时区使用（可能有助于减少负载）。</li></ul><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.5)</li><li>calendar (None)</li><li>historical (False)</li><li>millisecond (True)</li><li>tradename (None)</li><li>usetimezones (True)</li></ul><hr><h4 id=vchartcsvdata>VChartCSVData<a class=anchor href=#vchartcsvdata>#</a></h4><p>解析 VisualChart 导出的 CSV 文件。</p><p><strong>特定参数（或特定含义）：</strong></p><ul><li>dataname: 要解析的文件名或类文件对象</li></ul><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>headers (True)</li><li>separator (,)</li></ul><hr><h4 id=vchartdata>VChartData<a class=anchor href=#vchartdata>#</a></h4><p>支持 Visual Chart 二进制磁盘文件的每日和日内格式。</p><p><strong>注：</strong></p><ul><li>dataname: 文件名或打开的类文件对象</li></ul><p>如果传递了一个类文件对象，将使用 <code>timeframe</code> 参数来确定实际的时间框架。否则将使用文件扩展名（.fd 表示每日，.min 表示日内）。</p><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li></ul><hr><h4 id=vchartfile>VChartFile<a class=anchor href=#vchartfile>#</a></h4><p>支持 Visual Chart 二进制磁盘文件的每日和日内格式。</p><p><strong>注：</strong></p><ul><li>dataname: Visual Chart 显示的市场代码。例如：015ES 表示 EuroStoxx 50 连续期货</li></ul><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li></ul><hr><h4 id=yahoofinancecsvdata>YahooFinanceCSVData<a class=anchor href=#yahoofinancecsvdata>#</a></h4><p>解析预先下载的 Yahoo CSV 数据源（或符合 Yahoo 格式的本地生成的 CSV 文件）。</p><p><strong>特定参数：</strong></p><ul><li>dataname: 要解析的文件名或类文件对象</li><li>reverse (默认: False): 假设本地存储的文件在下载过程中已被反向</li><li>adjclose (默认: True): 是否使用股息/拆股调整后的收盘价，并根据它调整所有值</li><li>adjvolume (默认: True): 如果 <code>adjclose</code> 也为 True，则也调整交易量</li><li>round (默认: True): 是否在调整收盘价后将值四舍五入到特定的小数位数</li><li>roundvolume (默认: 0): 在调整后将交易量四舍五入到给定的小数位数</li><li>decimals (默认: 2): 要四舍五入的小数位数</li><li>swapcloses (默认: False): [2018-11-16] 看起来关闭和调整后的关闭的顺序现在是固定的。保留该参数，以防需要再次交换列的顺序。</li></ul><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li><li>adjclose</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>headers (True)</li><li>separator (,)</li><li>reverse (False)</li><li>adjclose (True)</li><li>adjvolume (True)</li><li>round (True)</li><li>decimals (2)</li><li>roundvolume (False)</li><li>swapcloses (False</li></ul><p>)</p><hr><h4 id=yahoofinancedata>YahooFinanceData<a class=anchor href=#yahoofinancedata>#</a></h4><p>直接从 Yahoo 服务器下载数据。</p><p><strong>特定参数（或特定含义）：</strong></p><ul><li>dataname: 要下载的代码（例如 &lsquo;YHOO&rsquo; 表示 Yahoo 自己的股票报价）</li><li>proxies: 指示下载时使用的代理的字典，例如 {‘http’: ‘http://myproxy.com’} 或 {‘http’: ‘http://127.0.0.1:8080’}</li><li>period: 要下载数据的时间框架。传递 &lsquo;w&rsquo; 表示每周，&rsquo;m&rsquo; 表示每月。</li><li>reverse: [2018-11-16] Yahoo 在线下载的最新版本返回的数据顺序正确。因此，在线下载的默认值为 False。</li><li>adjclose: 是否使用股息/拆股调整后的收盘价，并根据它调整所有值</li><li>urlhist: Yahoo Finance 中的历史报价 URL，用于获取下载的面包授权 cookie</li><li>urldown: 实际下载服务器的 URL</li><li>retries: 获取面包 cookie 和下载数据的次数</li></ul><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li><li>adjclose</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>headers (True)</li><li>separator (,)</li><li>reverse (False)</li><li>adjclose (True)</li><li>adjvolume (True)</li><li>round (True)</li><li>decimals (2)</li><li>roundvolume (False)</li><li>swapcloses (False)</li><li>proxies ({})</li><li>period (d)</li><li>urlhist (<a href=https://finance.yahoo.com/quote>https://finance.yahoo.com/quote</a>/{}/history)</li><li>urldown (<a href=https://query1.finance.yahoo.com/v7/finance/download>https://query1.finance.yahoo.com/v7/finance/download</a>)</li><li>retries (3)</li></ul><hr><h4 id=yahoolegacycsv>YahooLegacyCSV<a class=anchor href=#yahoolegacycsv>#</a></h4><p>此类旨在加载 Yahoo 在 2017 年 5 月停止提供原始服务之前下载的文件。</p><p><strong>数据行：</strong></p><ul><li>close</li><li>low</li><li>high</li><li>open</li><li>volume</li><li>openinterest</li><li>datetime</li><li>adjclose</li></ul><p><strong>参数：</strong></p><ul><li>dataname (None)</li><li>name ()</li><li>compression (1)</li><li>timeframe (5)</li><li>fromdate (None)</li><li>todate (None)</li><li>sessionstart (None)</li><li>sessionend (None)</li><li>filters ([])</li><li>tz (None)</li><li>tzinput (None)</li><li>qcheck (0.0)</li><li>calendar (None)</li><li>headers (True)</li><li>separator (,)</li><li>reverse (False)</li><li>adjclose (True)</li><li>adjvolume (True)</li><li>round (True)</li><li>decimals (2)</li><li>roundvolume (False)</li><li>swapcloses (False)</li><li>version ()</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div></div></div><div class="flex flex-wrap justify-between"><span><a href=/backtrader/docs/06-datafeed/11-datafeed-pandas/ class="flex align-center"><img src=/backtrader/icons/backward.svg class=book-icon alt=Previous title="Pandas 数据源示例">
<span>Pandas 数据源示例</span>
</a></span><span><a href=/backtrader/docs/07-strategy/01-strategy/ class="flex align-center"><span>Strategy</span>
<img src=/backtrader/icons/forward.svg class=book-icon alt=Next title=Strategy></a></span></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script><div class=book-comments><script src=https://utteranc.es/client.js repo=poloxue/blog issue-term=pathname theme=github-dark crossorigin=anonymous async></script></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#数据源参考>数据源参考</a></li></ul></li><li><a href=#数据行><strong>数据行：</strong></a><ul><li></li></ul></li></ul></nav></div></aside></main></body></html>