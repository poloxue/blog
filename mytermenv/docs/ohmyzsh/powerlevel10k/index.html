<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="自定义提示主题 # 不知道你是否想过自定义 Shell 提示符主题能带来的不仅是终端美观度的提升，还能通过视觉优化增强了工作效率呢？
在众多 shell 提示符主题中，Powerlevel10k 因为支持高度可定制和丰富的功能选，非常值得推荐。本文基于这个主题介绍 zsh 主题插件 powerlevel10k，包括它的安装和配置自定义。
什么是 powerlevel10k? # Powerlevel10 是一款 zsh 的主题，强调性能、灵活性和开箱即用，但同时自定义能力极强。前面介绍 zsh 轻量级框架 oh-my-zsh 时，提到过一些 zsh 主题，而通过 p10k（powerlevel10k 的简称）的自定义配置化能力，同样能配置出覆盖出之前主题的类似效果，当然相对而言，也更加强大。
效果展示：
安装依赖字体 # 在安装 powerlevel10k 前，要先安装它依赖的字体： NerdFont。不同系统下的安装方法，查看 它的文档。
简单说下 Nerd Fonts 字体。它是一系列开源字体的集合，被特别增强，它包含大量的图标和符号，如开发工具、编程语言和版本控制系统的图标。这些字体对于提高我们终端和编辑器的视觉体验和功能性有着极大帮助。
有了它，我们的终端才能显示一些复杂字体甚至是图标。
MacOS 的话，可直接通过 Homebrew 快速安装：
brew tap homebrew/cask-fonts brew install font-hack-nerd-font 安装完成，配置终端字体，进入 iTerm2 Settings -> Profiles -> Text -> Font -> MesloLGS NF 即可。
现在，我们终端就支持 NerdFont 字体了。
如何测试？
接下来安装 Powerlevel10k 时，它会提示我们检查字体是否正确安装。"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content="自定义提示主题"><meta property="og:description" content="自定义提示主题 # 不知道你是否想过自定义 Shell 提示符主题能带来的不仅是终端美观度的提升，还能通过视觉优化增强了工作效率呢？
在众多 shell 提示符主题中，Powerlevel10k 因为支持高度可定制和丰富的功能选，非常值得推荐。本文基于这个主题介绍 zsh 主题插件 powerlevel10k，包括它的安装和配置自定义。
什么是 powerlevel10k? # Powerlevel10 是一款 zsh 的主题，强调性能、灵活性和开箱即用，但同时自定义能力极强。前面介绍 zsh 轻量级框架 oh-my-zsh 时，提到过一些 zsh 主题，而通过 p10k（powerlevel10k 的简称）的自定义配置化能力，同样能配置出覆盖出之前主题的类似效果，当然相对而言，也更加强大。
效果展示：
安装依赖字体 # 在安装 powerlevel10k 前，要先安装它依赖的字体： NerdFont。不同系统下的安装方法，查看 它的文档。
简单说下 Nerd Fonts 字体。它是一系列开源字体的集合，被特别增强，它包含大量的图标和符号，如开发工具、编程语言和版本控制系统的图标。这些字体对于提高我们终端和编辑器的视觉体验和功能性有着极大帮助。
有了它，我们的终端才能显示一些复杂字体甚至是图标。
MacOS 的话，可直接通过 Homebrew 快速安装：
brew tap homebrew/cask-fonts brew install font-hack-nerd-font 安装完成，配置终端字体，进入 iTerm2 Settings -> Profiles -> Text -> Font -> MesloLGS NF 即可。
现在，我们终端就支持 NerdFont 字体了。
如何测试？
接下来安装 Powerlevel10k 时，它会提示我们检查字体是否正确安装。"><meta property="og:type" content="article"><meta property="og:url" content="https://www.poloxue.com/mytermenv/docs/ohmyzsh/powerlevel10k/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2024-04-08T17:27:01+08:00"><title>自定义提示主题 | 我的终端环境</title><link rel=manifest href=/mytermenv/manifest.json><link rel=icon href=/mytermenv/favicon.png><link rel=canonical href=https://www.poloxue.com/mytermenv/docs/ohmyzsh/powerlevel10k/><link rel=stylesheet href=/mytermenv/book.min.4f0117e74e5337280f18eb9641eae520cb4b25adcf5dd64fafad4664145a5957.css integrity="sha256-TwEX505TNygPGOuWQerlIMtLJa3PXdZPr61GZBRaWVc=" crossorigin=anonymous><script defer src=/mytermenv/flexsearch.min.js></script>
<script defer src=/mytermenv/en.search.min.1ff2efa015fc77410d6bc6555be1bd945c5f7c1f6e6b235fe6fcdf7b6608252b.js integrity="sha256-H/LvoBX8d0ENa8ZVW+G9lFxffB9uayNf5vzfe2YIJSs=" crossorigin=anonymous></script>
<script defer src=/mytermenv/sw.min.f888ca3f1a884bc850259e210b912f7631cc5beedc2fa1e324653bab31b8871a.js integrity="sha256-+IjKPxqIS8hQJZ4hC5EvdjHMW+7cL6HjJGU7qzG4hxo=" crossorigin=anonymous></script>
<script data-goatcounter=https://poloxue.goatcounter.com/count async src=//gc.zgo.at/count.js></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/mytermenv/><img src=/mytermenv/logo.png alt=Logo><span>我的终端环境</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><input type=checkbox id=section-fba4a8db7261d54d261a0776b385c4b7 class=toggle>
<label for=section-fba4a8db7261d54d261a0776b385c4b7 class="flex justify-between"><a href=/mytermenv/docs/terminal/>iTerm2</a></label><ul><li><a href=/mytermenv/docs/terminal/hello/>简要介绍</a></li><li><a href=/mytermenv/docs/terminal/install/>安装与主题</a></li><li><a href=/mytermenv/docs/terminal/usage/>开始使用</a></li><li><a href=/mytermenv/docs/terminal/pyapi/>Python API</a></li></ul></li><li><input type=checkbox id=section-0f880db9bf74f7d21521e992a6c21656 class=toggle>
<label for=section-0f880db9bf74f7d21521e992a6c21656 class="flex justify-between"><a href=/mytermenv/docs/zsh/>zsh</a></label><ul><li><a href=/mytermenv/docs/zsh/why/>为什么选择 zsh ？</a></li><li><a href=/mytermenv/docs/zsh/install/>快速安装</a></li></ul></li><li><input type=checkbox id=section-3cbc02454a3859bda006f4f5dbaa0992 class=toggle checked>
<label for=section-3cbc02454a3859bda006f4f5dbaa0992 class="flex justify-between"><a href=/mytermenv/docs/ohmyzsh/>ohmyzsh</a></label><ul><li><a href=/mytermenv/docs/ohmyzsh/install/>安装与主题</a></li><li><a href=/mytermenv/docs/ohmyzsh/basicplugins/>基础插件</a></li><li><a href=/mytermenv/docs/ohmyzsh/basicplugins2/>基础插件 2</a></li><li><a href=/mytermenv/docs/ohmyzsh/advancedplugins/>高级插件</a></li><li><a href=/mytermenv/docs/ohmyzsh/powerlevel10k/ class=active>自定义提示主题</a></li></ul></li><li><input type=checkbox id=section-3fb225060dbc6eb1fda04fb19c520b9e class=toggle>
<label for=section-3fb225060dbc6eb1fda04fb19c520b9e class="flex justify-between"><a href=/mytermenv/docs/commands/>高效命令</a></label><ul><li><input type=checkbox id=section-4d360b6d2174e1a19ba4329d57bf2936 class=toggle>
<label for=section-4d360b6d2174e1a19ba4329d57bf2936 class="flex justify-between"><a href=/mytermenv/docs/commands/filesystem/>文件目录</a></label><ul><li><a href=/mytermenv/docs/commands/filesystem/exa/>exa</a></li><li><a href=/mytermenv/docs/commands/filesystem/zoxide/>zoxide</a></li><li><a href=/mytermenv/docs/commands/filesystem/bat/>bat</a></li></ul></li><li><input type=checkbox id=section-a76fd5671ff74c276b5d82cfbdd68e75 class=toggle>
<label for=section-a76fd5671ff74c276b5d82cfbdd68e75 class="flex justify-between"><a href=/mytermenv/docs/commands/search/>搜索查找</a></label><ul><li><a href=/mytermenv/docs/commands/search/fd/>fd - 更易用的文件查找命令</a></li><li><a href=/mytermenv/docs/commands/search/ripgrep/>ripgrep - 更高效的文件搜索</a></li><li><a href=/mytermenv/docs/commands/search/fzf/>fzf - 交互式命令行查找器</a></li></ul></li><li><input type=checkbox id=section-46404c2e805134bf109f2309e56d329f class=toggle>
<label for=section-46404c2e805134bf109f2309e56d329f class="flex justify-between"><a href=/mytermenv/docs/commands/dev/>开发调试</a></label><ul><li><a href=/mytermenv/docs/commands/dev/entr/>entr - 实现语言无关热重启</a></li><li><a href=/mytermenv/docs/commands/dev/httpie/>httpie - 人性化 HTTP Client</a></li></ul></li></ul></li><li><input type=checkbox id=section-ff2ed6a53270462fb3b310011e3cce1a class=toggle>
<label for=section-ff2ed6a53270462fb3b310011e3cce1a class="flex justify-between"><a href=/mytermenv/docs/startup/>启动消息</a></label><ul></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/mytermenv/svg/menu.svg class=book-icon alt=Menu></label>
<strong>自定义提示主题</strong>
<label for=toc-control><img src=/mytermenv/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#什么是-powerlevel10k>什么是 powerlevel10k?</a></li><li><a href=#安装依赖字体>安装依赖字体</a></li><li><a href=#安装-powerlevel10k>安装 powerlevel10k</a></li><li><a href=#配置-powerlevel10k>配置 powerlevel10k</a><ul><li><a href=#前置问题>前置问题</a></li><li><a href=#开始配置>开始配置</a></li></ul></li><li><a href=#重新配置>重新配置</a></li><li><a href=#配置文件>配置文件</a></li><li><a href=#总结>总结</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=自定义提示主题>自定义提示主题
<a class=anchor href=#%e8%87%aa%e5%ae%9a%e4%b9%89%e6%8f%90%e7%a4%ba%e4%b8%bb%e9%a2%98>#</a></h1><p>不知道你是否想过自定义 Shell 提示符主题能带来的不仅是终端美观度的提升，还能通过视觉优化增强了工作效率呢？</p><p>在众多 shell 提示符主题中，Powerlevel10k 因为支持高度可定制和丰富的功能选，非常值得推荐。本文基于这个主题介绍 zsh 主题插件 powerlevel10k，包括它的安装和配置自定义。</p><h2 id=什么是-powerlevel10k>什么是 powerlevel10k?
<a class=anchor href=#%e4%bb%80%e4%b9%88%e6%98%af-powerlevel10k>#</a></h2><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-16.png alt></p><p>Powerlevel10 是一款 zsh 的主题，强调性能、灵活性和开箱即用，但同时自定义能力极强。前面介绍 zsh 轻量级框架 oh-my-zsh 时，提到过一些 zsh 主题，而通过 p10k（powerlevel10k 的简称）的自定义配置化能力，同样能配置出覆盖出之前主题的类似效果，当然相对而言，也更加强大。</p><p>效果展示：</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-13.png alt></p><h2 id=安装依赖字体>安装依赖字体
<a class=anchor href=#%e5%ae%89%e8%a3%85%e4%be%9d%e8%b5%96%e5%ad%97%e4%bd%93>#</a></h2><p>在安装 powerlevel10k 前，要先安装它依赖的字体：
<a href=https://github.com/ryanoasis/nerd-fonts#font-installation>NerdFont</a>。不同系统下的安装方法，查看
<a href=https://github.com/ryanoasis/nerd-fonts#font-installation>它的文档</a>。</p><p>简单说下 Nerd Fonts 字体。它是一系列开源字体的集合，被特别增强，它包含大量的图标和符号，如开发工具、编程语言和版本控制系统的图标。这些字体对于提高我们终端和编辑器的视觉体验和功能性有着极大帮助。</p><p>有了它，我们的终端才能显示一些复杂字体甚至是图标。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-14.png alt></p><p>MacOS 的话，可直接通过 Homebrew 快速安装：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>brew tap homebrew/cask-fonts
</span></span><span style=display:flex><span>brew install font-hack-nerd-font
</span></span></code></pre></div><p>安装完成，配置终端字体，进入 iTerm2 Settings -> Profiles -> Text -> Font -> MesloLGS NF 即可。</p><p>现在，我们终端就支持 NerdFont 字体了。</p><p>如何测试？</p><p>接下来安装 Powerlevel10k 时，它会提示我们检查字体是否正确安装。</p><h2 id=安装-powerlevel10k>安装 powerlevel10k
<a class=anchor href=#%e5%ae%89%e8%a3%85-powerlevel10k>#</a></h2><p>先通过如下的命令下载插件源码放到指定的位置。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone --depth<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> https://github.com/romkatv/powerlevel10k.git <span style=color:#e6db74>${</span>ZSH_CUSTOM<span style=color:#66d9ef>:-</span>$HOME/.oh-my-zsh/custom<span style=color:#e6db74>}</span>/themes/powerlevel10k
</span></span></code></pre></div><p>在 <code>~/.zshrc</code> 配置启动 <code>powerlevel10k</code> 主题插件。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ZSH_THEME<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;powerlevel10k/powerlevel10k&#34;</span>
</span></span></code></pre></div><p>现在我们只要重新终端或执行 <code>source ~/.zshrc</code> 生效配置就会进入到配置向导流程中了。</p><h2 id=配置-powerlevel10k>配置 powerlevel10k
<a class=anchor href=#%e9%85%8d%e7%bd%ae-powerlevel10k>#</a></h2><p>终端将进入到 powerlevel10k 的配置向导后，我们通过回答问题来完成自定义的安装流程。这个流程有点繁琐，我将一步一步介绍，要跟着操作可能更有感觉吧。</p><h3 id=前置问题>前置问题
<a class=anchor href=#%e5%89%8d%e7%bd%ae%e9%97%ae%e9%a2%98>#</a></h3><p>首先，为了确认 NerdFont 字体安装成功，正式开始配置前，要先提出几个问题，识别图片是否如描述说的那样。我们回答后才能进入到主题的自定义。</p><p>这些问题有诸如：</p><ul><li>Does this look like a diamond (rotated square)? 这是看起来钻石吗？</li><li>Does this look like a lock? 这看起来是锁吗？</li><li>Does this look like an upwards arrow? 这看起来是向上箭头吗？</li></ul><p>等等。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-17.png alt>
<img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-18.png alt>
<img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-19.png alt></p><p>如果已经成功安装配置了字体，这些问题看起来就像逗傻子一样，按实际情况回答问题即可。如果字体安装成功，都是选择 &ldquo;Yes&rdquo; 即可。</p><h3 id=开始配置>开始配置
<a class=anchor href=#%e5%bc%80%e5%a7%8b%e9%85%8d%e7%bd%ae>#</a></h3><p>进入到正式阶段，按步骤配置自己的提示符风格，下面一共 12 步，都是非常简单的回答问题。考虑到第一次配置，有懵逼的可能性，我把全部的步骤都列出来了。</p><p>选择提示符风格，分别是 Lean、Classic、Rainbow 和 Pure。我选风格 3，大众所爱的风格，彩虹 Rainbow，则输入 3。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-01.png alt></p><p>字符集设置，毫无疑问，配置 unicode，选择 1。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-02.png alt></p><p>提示符显示当前时间风格。我选择 1，只显示命令耗时，不显示当前时间。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-03.png alt></p><p>提示符分隔符，也就是 src/master 之间的符号风格。我钟爱箭头，选择 1 -> Angled.</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-04.png alt></p><p>提示符头部风格，就是 <code>master ></code> 的风格选择。毫无疑问，我钟爱箭头，选择 1 - Sharp。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-05.png alt></p><p>提示符尾部风格，钟爱箭头，但不是双箭头，选择 1 - Flat。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-06.png alt></p><p>提示符高度，显示一行还是两行，体验过两行，还是一行更紧凑一些，选择 1 - one line。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-07.png alt></p><p>两个命令键的间距，我喜欢两行离的近一点，选择 1 - Compact。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-08.png alt></p><p>提示符 Icons，多点 Icon 更帅，否则看起来就和一般主题没区别了，so 选择 2 - Many Icons。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-09.png alt></p><p>提示符丰富度，增加一些文本描述，帮助理解提示符中字符含义。还是简洁为美，毕竟空间不能占用太多，而且含义简单，无需文本辅助。我选择 1 - Consice。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-10.png alt></p><p>这是什么配置ne？提示符瞬闪？好像命令执行后提示符就立刻消失，只保留在最新的提示符，先选择 n - No 看看效果吧。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-11.png alt></p><p>提示符高性能模式，是否启用。推荐启用，就启用吧 1-verbose，如果发现有兼容问题，在重新配置 off。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-12.png alt></p><p>到此基本全部的配置都已经完成，powerlevel10k 命令行提示符的最终效果，如下所示：</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-20-zsh-theme-powerlevel10k-13.png alt></p><h2 id=重新配置>重新配置
<a class=anchor href=#%e9%87%8d%e6%96%b0%e9%85%8d%e7%bd%ae>#</a></h2><p>在配置完成后，如果希望重新配置，重启整个流程，直接执行 <code>p10k configure</code> ，它会重新打开配置向导。</p><h2 id=配置文件>配置文件
<a class=anchor href=#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6>#</a></h2><p>通过 powerlevel10k 的配置导航能快速自定义提示符的主题风格，但如想更细粒度的配置，可直接在 <code>$HOME/.p10k.zsh</code> 配置，配置导航只是最粗粒度的配置方式。</p><p>如配置提示符两侧内容，通过 <code>~/.p10k.sh</code> 中的变量 <code>POWERLEVEL9K_LEFT_PROMPT_ELEMENTS</code> 和 <code>POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS</code> 设置。</p><p>配置文件的内容，如下所示：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>typeset -g POWERLEVEL9K_LEFT_PROMPT_ELEMENTS<span style=color:#f92672>=(</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># 操作系统图标</span>
</span></span><span style=display:flex><span>  os_icon       
</span></span><span style=display:flex><span>  <span style=color:#75715e># 当前目录</span>
</span></span><span style=display:flex><span>  dir           
</span></span><span style=display:flex><span>  <span style=color:#75715e># 版本控制信息</span>
</span></span><span style=display:flex><span>  vcs           
</span></span><span style=display:flex><span>  <span style=color:#75715e># 提示符</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># prompt_char </span>
</span></span><span style=display:flex><span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>typeset -g POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS<span style=color:#f92672>=(</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># 最后一条命令的退出码 </span>
</span></span><span style=display:flex><span>  status                  
</span></span><span style=display:flex><span>  <span style=color:#75715e># 最后一条命令的执行时间</span>
</span></span><span style=display:flex><span>  command_execution_time  
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#75715e># 当前时间</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># time</span>
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span><span style=color:#f92672>)</span>
</span></span></code></pre></div><p>前面配置时，设置了不显示当前时间，可以通过打开 <code>POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS</code> 中的 <code>time</code> 重新显示时间。</p><p>还有前面对提示符瞬闪的配置，transient 设置为 off。如果希望启用，同时有不重新经历一次配置向导，直接进入 <code>~/.p10k.zsh</code> 配置变量 <code>POWERLEVEL9K_TRANSIENT_PROMPT=always</code>，即可。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span><span style=color:#75715e># Transient prompt works similarly to the builtin transient_rprompt option. It trims down prompt</span>
</span></span><span style=display:flex><span><span style=color:#75715e># when accepting a command line. Supported values:</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#   - off:      Don&#39;t change prompt when accepting a command line.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#   - always:   Trim down prompt when accepting a command line.</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#   - same-dir: Trim down prompt when accepting a command line unless this is the first command</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#               typed after changing current working directory.</span>
</span></span><span style=display:flex><span>typeset -g POWERLEVEL9K_TRANSIENT_PROMPT<span style=color:#f92672>=</span>always
</span></span></code></pre></div><p>Powerlevel10k 还进一步集成了对各种工具的支持，包括但不限于 npm、k8s、Python 和 Go。在 <code>~/.p10k.zsh</code> 中配置相应的提示元素，如 <code>node_version</code>、<code>kubecontext</code>、<code>python_version</code> 和 <code>go_version</code>。</p><p>这些都是位于 <code>POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS</code> 配置项下。</p><pre tabindex=0><code>typeset -g POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(
  # ...
  virtualenv 
  anaconda 
  pyenv
  goenv
  nodenv
  nvm
  nodeenv
  node_version
  go_version
  rust_version 
  dotnet_version
  php_version            
  laravel_version        
  java_version           
  package                
  rbenv                 
  rvm                   
  fvm                   
  luaenv                
  jenv                  
  plenv                 
  perlbrew              
  phpenv               
  scalaenv 
  haskell_stack   
  kubecontext      
  terraform         
  terraform_version   
  aws                
  aws_eb_env           
  azure                 
  gcloud                 
  google_app_cred         
  toolbox    
  context     
  nordvpn      
  ranger        
  nnn            
  lf              
  xplr             
  vim_shell        
  midnight_commander
  nix_shell         
  chezmoi_shell      
  vpn_ip            
  load                 
  disk_usage           
  ram                  
  swap                  
  todo                    
  timewarrior             
  taskwarrior             
  per_directory_history   
  cpu_arch              
  time                  
  newline
  ip                    
  public_ip            
  proxy                 
  battery               
  wifi                 
  example
)
</code></pre><p>这些配置让我们也可以在提示符中直观地看到当前环境的版本信息，以及 Kubernetes 上下文等关键信息，从而使我们的工作流程更加高效、直观。</p><p>这里只是简单介绍了 powerlevel10k 的配置。想了解它的更多能力，可以在 <code>~/.p10k.sh</code> 继续探索。</p><h2 id=总结>总结
<a class=anchor href=#%e6%80%bb%e7%bb%93>#</a></h2><p>本文介绍了 powerlevel10k 的安装与配置。如果希望你命令行提示能给你提供更多信息，减少使用终端时的一些心智负担，如少执行几次版本，分支或所在上下文查询的命令，强烈推荐安装 powerlevel10k！</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/poloxue/myterminal/commit/20dc56dd97876a32eafd9c5106848cbe2af1c4e5 title='Last modified by poloxue.xue | Apr 8, 2024' target=_blank rel=noopener><img src=/mytermenv/svg/calendar.svg class=book-icon alt=Calendar>
<span>Apr 8, 2024</span></a></div><div><a class="flex align-center" href=https://github.com/poloxue/myterminal/blob/master/content/docs/ohmyzsh/powerlevel10k.md target=_blank rel=noopener><img src=/mytermenv/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments><script src=https://utteranc.es/client.js repo=poloxue/blog issue-term=pathname theme=github-dark crossorigin=anonymous async></script></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#什么是-powerlevel10k>什么是 powerlevel10k?</a></li><li><a href=#安装依赖字体>安装依赖字体</a></li><li><a href=#安装-powerlevel10k>安装 powerlevel10k</a></li><li><a href=#配置-powerlevel10k>配置 powerlevel10k</a><ul><li><a href=#前置问题>前置问题</a></li><li><a href=#开始配置>开始配置</a></li></ul></li><li><a href=#重新配置>重新配置</a></li><li><a href=#配置文件>配置文件</a></li><li><a href=#总结>总结</a></li></ul></nav></div></aside></main></body></html>