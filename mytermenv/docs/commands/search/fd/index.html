<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="fd # fd 是一款文件查找命令，可替换系统默认 find，它的体验更友好，且查询效率极高。我们在使用传统的 find 时，要经常查手册看帮助文档，但使用 fd，它的默认行为就能满足我们大部分的需求。
如何使用呢？
安装 # brew install fd 递归 # 文件系统下搜索文件名，最常见的场景是递归搜索文件名包含 pattern 的文件，不知道有你是否能立刻想起来 find 如何写呢？
示例：遍历查找。
$ fd pattern 正则 # 如果要正则查询，pattern 默认即支持正则表达式。
查找文件名包含日期的文件：
或者查找所有的 go 代码文件。
这个表达式更加正确的表述是 fd .*\.go$，查出所有以 .go 结尾的文件。
通配符 # fd 同样是支持统配符的，通过 -g 选项指定通配符。
文件类型 # 前面的查找 go 文件，其实也是查找类型是 Go 源码。但正则和通配符，都比较繁琐，可直接通过 fd -e go pattern 的模式直接寻找指定扩展的文件。
示例：查找 python 源码文件。
如果无需 patern，则表明查找所有的 .py 的文件。
隐藏文件和 .gitinogre # fd 搜索效率高的一个原因是它默认不查找隐藏文件和 gitignore 文件。"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content="fd - 更易用的文件查找命令"><meta property="og:description" content="fd # fd 是一款文件查找命令，可替换系统默认 find，它的体验更友好，且查询效率极高。我们在使用传统的 find 时，要经常查手册看帮助文档，但使用 fd，它的默认行为就能满足我们大部分的需求。
如何使用呢？
安装 # brew install fd 递归 # 文件系统下搜索文件名，最常见的场景是递归搜索文件名包含 pattern 的文件，不知道有你是否能立刻想起来 find 如何写呢？
示例：遍历查找。
$ fd pattern 正则 # 如果要正则查询，pattern 默认即支持正则表达式。
查找文件名包含日期的文件：
或者查找所有的 go 代码文件。
这个表达式更加正确的表述是 fd .*\.go$，查出所有以 .go 结尾的文件。
通配符 # fd 同样是支持统配符的，通过 -g 选项指定通配符。
文件类型 # 前面的查找 go 文件，其实也是查找类型是 Go 源码。但正则和通配符，都比较繁琐，可直接通过 fd -e go pattern 的模式直接寻找指定扩展的文件。
示例：查找 python 源码文件。
如果无需 patern，则表明查找所有的 .py 的文件。
隐藏文件和 .gitinogre # fd 搜索效率高的一个原因是它默认不查找隐藏文件和 gitignore 文件。"><meta property="og:type" content="article"><meta property="og:url" content="https://www.poloxue.com/mytermenv/docs/commands/search/fd/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2024-04-08T18:22:35+08:00"><title>fd - 更易用的文件查找命令 | 我的终端环境</title><link rel=manifest href=/mytermenv/manifest.json><link rel=icon href=/mytermenv/favicon.png><link rel=canonical href=https://www.poloxue.com/mytermenv/docs/commands/search/fd/><link rel=stylesheet href=/mytermenv/book.min.4f0117e74e5337280f18eb9641eae520cb4b25adcf5dd64fafad4664145a5957.css integrity="sha256-TwEX505TNygPGOuWQerlIMtLJa3PXdZPr61GZBRaWVc=" crossorigin=anonymous><script defer src=/mytermenv/flexsearch.min.js></script>
<script defer src=/mytermenv/en.search.min.a9232b8d54d785ecbb3c54490be612ed67f8711f1840e72c2deb05769b9fc41b.js integrity="sha256-qSMrjVTXhey7PFRJC+YS7Wf4cR8YQOcsLesFdpufxBs=" crossorigin=anonymous></script>
<script defer src=/mytermenv/sw.min.f888ca3f1a884bc850259e210b912f7631cc5beedc2fa1e324653bab31b8871a.js integrity="sha256-+IjKPxqIS8hQJZ4hC5EvdjHMW+7cL6HjJGU7qzG4hxo=" crossorigin=anonymous></script>
<script data-goatcounter=https://poloxue.goatcounter.com/count async src=//gc.zgo.at/count.js></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/mytermenv/><img src=/mytermenv/logo.png alt=Logo><span>我的终端环境</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/mytermenv/docs/terminal/>iTerm2</a><ul><li><a href=/mytermenv/docs/terminal/hello/>简要介绍</a></li><li><a href=/mytermenv/docs/terminal/install/>安装与主题</a></li><li><a href=/mytermenv/docs/terminal/usage/>开始使用</a></li><li><a href=/mytermenv/docs/terminal/pyapi/>Python API</a></li></ul></li><li><a href=/mytermenv/docs/zsh/>zsh</a><ul><li><a href=/mytermenv/docs/zsh/why/>为什么选择 zsh ？</a></li><li><a href=/mytermenv/docs/zsh/install/>快速安装</a></li></ul></li><li><a href=/mytermenv/docs/ohmyzsh/>oh-my-zsh</a><ul><li><a href=/mytermenv/docs/ohmyzsh/install/>安装与主题</a></li><li><a href=/mytermenv/docs/ohmyzsh/basicplugins/>基础插件</a></li><li><a href=/mytermenv/docs/ohmyzsh/basicplugins2/>基础插件 2</a></li><li><a href=/mytermenv/docs/ohmyzsh/advancedplugins/>高级插件</a></li><li><a href=/mytermenv/docs/ohmyzsh/powerlevel10k/>自定义提示主题</a></li></ul></li><li><a href=/mytermenv/docs/commands/>高效命令</a><ul><li><input type=checkbox id=section-4d360b6d2174e1a19ba4329d57bf2936 class=toggle>
<label for=section-4d360b6d2174e1a19ba4329d57bf2936 class="flex justify-between"><a href=/mytermenv/docs/commands/filesystem/>文件目录</a></label><ul><li><a href=/mytermenv/docs/commands/filesystem/exa/>exa</a></li><li><a href=/mytermenv/docs/commands/filesystem/zoxide/>zoxide</a></li><li><a href=/mytermenv/docs/commands/filesystem/bat/>bat</a></li></ul></li><li><input type=checkbox id=section-a76fd5671ff74c276b5d82cfbdd68e75 class=toggle checked>
<label for=section-a76fd5671ff74c276b5d82cfbdd68e75 class="flex justify-between"><a href=/mytermenv/docs/commands/search/>搜索查找</a></label><ul><li><a href=/mytermenv/docs/commands/search/fd/ class=active>fd - 更易用的文件查找命令</a></li><li><a href=/mytermenv/docs/commands/search/ripgrep/>ripgrep - 更高效的文件搜索</a></li><li><a href=/mytermenv/docs/commands/search/fzf/>fzf - 交互式命令行查找器</a></li></ul></li><li><input type=checkbox id=section-46404c2e805134bf109f2309e56d329f class=toggle>
<label for=section-46404c2e805134bf109f2309e56d329f class="flex justify-between"><a href=/mytermenv/docs/commands/dev/>开发调试</a></label><ul><li><a href=/mytermenv/docs/commands/dev/entr/>entr - 实现语言无关热重启</a></li><li><a href=/mytermenv/docs/commands/dev/httpie/>httpie - 人性化 HTTP Client</a></li></ul></li></ul></li><li><a href=/mytermenv/docs/startup/>欢迎消息</a><ul></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/mytermenv/svg/menu.svg class=book-icon alt=Menu></label>
<strong>fd - 更易用的文件查找命令</strong>
<label for=toc-control><img src=/mytermenv/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#安装>安装</a></li><li><a href=#递归>递归</a></li><li><a href=#正则>正则</a></li><li><a href=#通配符>通配符</a></li><li><a href=#文件类型>文件类型</a></li><li><a href=#隐藏文件和-gitinogre>隐藏文件和 <code>.gitinogre</code></a></li><li><a href=#其他示例>其他示例</a></li><li><a href=#性能>性能</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=fdhttpsgithubcomsharkdpfd><a href=https://github.com/sharkdp/fd>fd</a>
<a class=anchor href=#fdhttpsgithubcomsharkdpfd>#</a></h1><p><a href=https://github.com/sharkdp/fd>fd</a> 是一款文件查找命令，可替换系统默认 find，它的体验更友好，且查询效率极高。我们在使用传统的 find 时，要经常查手册看帮助文档，但使用 fd，它的默认行为就能满足我们大部分的需求。</p><p>如何使用呢？</p><h2 id=安装>安装
<a class=anchor href=#%e5%ae%89%e8%a3%85>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>brew install fd
</span></span></code></pre></div><h2 id=递归>递归
<a class=anchor href=#%e9%80%92%e5%bd%92>#</a></h2><p>文件系统下搜索文件名，最常见的场景是递归搜索文件名包含 pattern 的文件，不知道有你是否能立刻想起来 find 如何写呢？</p><p>示例：遍历查找。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ fd pattern
</span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-30-high-productivity-shell-commands-part2-01.gif alt></p><h2 id=正则>正则
<a class=anchor href=#%e6%ad%a3%e5%88%99>#</a></h2><p>如果要正则查询，pattern 默认即支持正则表达式。</p><p>查找文件名包含日期的文件：</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-30-high-productivity-shell-commands-part2-02.gif alt></p><p>或者查找所有的 go 代码文件。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-30-high-productivity-shell-commands-part2-03.gif alt></p><p>这个表达式更加正确的表述是 fd <code>.*\.go$</code>，查出所有以 <code>.go</code> 结尾的文件。</p><h2 id=通配符>通配符
<a class=anchor href=#%e9%80%9a%e9%85%8d%e7%ac%a6>#</a></h2><p>fd 同样是支持统配符的，通过 <code>-g</code> 选项指定通配符。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-30-high-productivity-shell-commands-part2-04.gif alt></p><h2 id=文件类型>文件类型
<a class=anchor href=#%e6%96%87%e4%bb%b6%e7%b1%bb%e5%9e%8b>#</a></h2><p>前面的查找 go 文件，其实也是查找类型是 Go 源码。但正则和通配符，都比较繁琐，可直接通过 <code>fd -e go pattern</code> 的模式直接寻找指定扩展的文件。</p><p>示例：查找 python 源码文件。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-30-high-productivity-shell-commands-part2-05.gif alt></p><p>如果无需 patern，则表明查找所有的 <code>.py</code> 的文件。</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-30-high-productivity-shell-commands-part2-07.gif alt></p><h2 id=隐藏文件和-gitinogre>隐藏文件和 <code>.gitinogre</code>
<a class=anchor href=#%e9%9a%90%e8%97%8f%e6%96%87%e4%bb%b6%e5%92%8c-gitinogre>#</a></h2><p>fd 搜索效率高的一个原因是它默认不查找隐藏文件和 <code>gitignore</code> 文件。</p><p>如想启用隐藏文件的查找，可指定 -H 选项，示例如下：</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-30-high-productivity-shell-commands-part2-06.png alt></p><p>从上图可知，其中包含了隐藏目录 .git 下的文件。</p><p>除了默认忽略 hidden 文件，fd 还会忽略 .gitignore 中的文件，选项 -I 即可查找包含在 <code>.gitinogre/.fdignore/.ignore</code> 的文件。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ fd -I pattern
</span></span></code></pre></div><h2 id=其他示例>其他示例
<a class=anchor href=#%e5%85%b6%e4%bb%96%e7%a4%ba%e4%be%8b>#</a></h2><p>fd 的更多选项，我就不一一介绍了，可以查看如下表格。</p><table><thead><tr><th>案例</th><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>忽略大小写</td><td>fd -i readme.md</td><td>包含 readme.md 和 README.md</td></tr><tr><td>大小写的 smartcase 模式</td><td>fd -s readme.md</td><td>包含 readme.md 和 README.md</td></tr><tr><td>&mdash;</td><td>fd -s README.md</td><td>只包含 README.md</td></tr><tr><td>查找结果显示详细信息</td><td>fd -l .go</td><td>查询结果显示文件详情</td></tr><tr><td>大小过滤</td><td>fd -S +1000k</td><td>查询大小 > 1000k 的文件</td></tr><tr><td>仅查找目录</td><td>fd &ndash;type/-t directory golang</td><td>查询所有目录文件</td></tr><tr><td>查询并执行命令</td><td>fd &ndash;type/-t file -x wc -l</td><td>查询文件并计算行数</td></tr><tr><td>&mdash;</td><td>fd &ndash;type/-t file -X vim</td><td>查询所有文件并用 vim 打开</td></tr></tbody></table><h2 id=性能>性能
<a class=anchor href=#%e6%80%a7%e8%83%bd>#</a></h2><p>除了忽略隐藏和 gitignore 中的文件外，fd 在性能上也是碾压 find。通过 hyperfine 命令测试 fd 与 find。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>hyperfine --warmup <span style=color:#ae81ff>3</span> <span style=color:#e6db74>&#34;find . -iname *.go&#34;</span> <span style=color:#e6db74>&#34;fd -i -g &#39;*.go&#39; -uu&#34;</span>
</span></span></code></pre></div><p>性能对比结果：</p><p><img src=https://cdn.jsdelivr.net/gh/poloxue/images@2023-10/2023-10-30-high-productivity-shell-commands-part2-08.gif alt></p><p>压测结果显示，fd 相较于 find 快了 3.88 倍。</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/poloxue/myterminal/commit/538386b63c3c620a258ee38e40395bc969cc1473 title='Last modified by poloxue.xue | Apr 8, 2024' target=_blank rel=noopener><img src=/mytermenv/svg/calendar.svg class=book-icon alt=Calendar>
<span>Apr 8, 2024</span></a></div><div><a class="flex align-center" href=https://github.com/poloxue/myterminal/blob/master/content/docs/commands/search/fd.md target=_blank rel=noopener><img src=/mytermenv/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments><script src=https://utteranc.es/client.js repo=poloxue/blog issue-term=pathname theme=github-dark crossorigin=anonymous async></script></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#安装>安装</a></li><li><a href=#递归>递归</a></li><li><a href=#正则>正则</a></li><li><a href=#通配符>通配符</a></li><li><a href=#文件类型>文件类型</a></li><li><a href=#隐藏文件和-gitinogre>隐藏文件和 <code>.gitinogre</code></a></li><li><a href=#其他示例>其他示例</a></li><li><a href=#性能>性能</a></li></ul></nav></div></aside></main></body></html>